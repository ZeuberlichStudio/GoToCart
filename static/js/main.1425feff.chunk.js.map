{"version":3,"sources":["assets/images/logo.svg","components/ui/tabs.component.js","components/catalogue/checkboxes.component.js","components/common/menu.component.js","components/ui/search-bar.component.js","components/common/header.component.js","components/home/categories.component.js","components/ui/button-link.component.js","components/ui/slider.component.js","components/home/post.component.js","pages/home.js","components/catalogue/category_item.component.js","components/ui/loading.component.js","components/catalogue/categories.component.js","components/ui/share-buttons.component.js","components/catalogue/product_item.component.js","components/catalogue/filters.component.js","components/catalogue/products.component.js","pages/product.js","pages/catalogue.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Tabs","state","tab","changing","changeTab","e","parseInt","currentTarget","dataset","document","getElementsByClassName","props","className","setState","setTimeout","this","content","map","item","i","data-tab","key","onClick","title","style","opacity","transition","Component","LabeledCheckbox","data-filter","dataFilter","type","name","value","label","ColorCheckbox","backgroundColor","color","Menu","id","history","MenuFilters","filters","fields","resetFilters","preventDefault","field","checked","submitSearch","query_params","Array","from","forEach","filter","push","material","person","brand","cat","min_price","max_price","min_stock","max_stock","console","log","getElementById","getElementsByTagName","placeholder","MenuCategories","cats","subcats","selected","fetchCategories","url","fetch","method","mode","then","response","json","catch","err","selectCategroy","prevProps","prevState","isArray","subcat","to","parent","SearchBar","search","results","controller","AbortController","loadResults","signal","res","abort","onChange","result","SearchItem","product","message","src","images","attributes","find","attribute","options","returnBrand","stock_quantity","price","Header","activeMenu","openCatalog","menu","classList","remove","add","logo","ButtonLink","text","LinkButton","slideCount","activeSlide","changeSlide","goToSlide","slide","setProperty","length","slideButtons","data-slide","Post","post","backgroundImage","_embedded","source_url","ReactHtmlParser","Home","calculateVh","vh","documentElement","clientHeight","getPosts","posts","error","CategoryItem","useRouteMatch","thumb","Loading","Categories","categories","parent_id","match","params","cat_id","category","image","VKShareButton","href","link","target","FBShareButton","FavButton","ProductItemList","generateLink","sku","description","stock","comments","variations","slug","charAt","toUpperCase","replace","slice","option","composeAttributes","comment","author_avatar","author_name","comment_content","composeComments","variation","x","composeColors","ProductItemGrid","layout","Filters","onSubmit","applyFilters","inputs","input","Products","query","items","activeFilters","fetchProducts","Object","keys","products","composeQuery","location","split","param","subcat_id","changeOrder","orderby","order","on_sale","onsale","assign","changeLayout","applied_filters","new_query","parameter","entries","activeOrder","activeLayout","short_description","CatalogControls","data-orderby","data-order","data-onsale","includes","min","max","defaultValue","Product","product_data","currentVariation","fetchProductData","product_id","changeVariation","path","pathname","subcatLink","substring","lastIndexOf","ProductImages","ProductInfo","RelatedProducts","related","useState","currentImage","setCurrentImage","changeImage","render","exact","App","withRouter","Boolean","window","hostname","ReactDOM","basename","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1425feff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c2bb9448.svg\";","import React, { Component } from 'react';\r\n\r\nexport default class Tabs extends Component {\r\n\r\n  state = {\r\n    tab: 0,\r\n    changing: 0\r\n  }\r\n\r\n  changeTab = e => {\r\n    let tab = parseInt(e.currentTarget.dataset.tab);\r\n    let tab_content = document.getElementsByClassName(this.props.className + \"_content\")[0];\r\n\r\n    this.setState({ changing: 1 });\r\n    setTimeout( () => {\r\n      this.setState({ tab });\r\n      this.setState({ changing: 0 });\r\n    }, 300 );\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      className,\r\n      content\r\n    } = this.props;\r\n\r\n    return(\r\n      <div className={ this.props.className }>\r\n        <div className={ this.props.className + \"_controls\" }>\r\n          {\r\n            content.map((item, i) =>\r\n              <button\r\n              data-tab={ i }\r\n              key={ i }\r\n              onClick={ this.changeTab }\r\n              className={ this.state.tab === i ? \"active-tab\" : null }\r\n              >\r\n                { item.title }\r\n              </button>\r\n            )\r\n          }\r\n        </div>\r\n        <div\r\n        className={ this.props.className + \"_content\" }\r\n        style={{\r\n          opacity: this.state.changing ? 0 : 1,\r\n          transition: \"opacity 0.3s\"\r\n        }}>\r\n          { content[this.state.tab].content  }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport function LabeledCheckbox(props) {\r\n  return(\r\n    <label className=\"labeled-checkbox\">\r\n      <input data-filter={ props.dataFilter } type=\"checkbox\" name={ props.name } value={ props.value }/>\r\n      <span className=\"labeled-checkbox_label\">{ props.label }</span>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport function ColorCheckbox(props) {\r\n  return(\r\n    <label title={ props.title } className=\"color-checkbox\">\r\n      <input data-filter=\"color\" name={ props.name } value={ props.value } type=\"checkbox\"/>\r\n      <span>\r\n        <i style={{ backgroundColor: props.color }}/>\r\n      </span>\r\n    </label>\r\n  );\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Tabs from 'components/ui/tabs.component';\r\nimport { LabeledCheckbox, ColorCheckbox } from 'components/catalogue/checkboxes.component';\r\n\r\nexport default class Menu extends Component {\r\n\r\n  render() {\r\n    return(\r\n      <div id=\"menu\">\r\n        <Tabs\r\n          className=\"menu_tabs\"\r\n          content={[\r\n            {\r\n              title: 'По фильтрам',\r\n              content: <MenuFilters history={ this.props.history }/>\r\n            },\r\n            {\r\n              title: 'По категориям',\r\n              content: <MenuCategories/>\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass MenuFilters extends Component{\r\n\r\n  componentDidMount() {\r\n    let fields = document.getElementById('filters-form').getElementsByTagName('input');\r\n    this.setState({ fields });\r\n  }\r\n\r\n  state = {\r\n    filters: {},\r\n    fields: []\r\n  }\r\n\r\n  resetFilters = e => {\r\n    e.preventDefault();\r\n    for( let field of this.state.fields ){\r\n      field.type === 'checkbox' ?\r\n      field.checked = false : field.value = '';\r\n    }\r\n  }\r\n\r\n  submitSearch = e => {\r\n    e.preventDefault();\r\n\r\n    let query_params = '';\r\n    let filters = {};\r\n\r\n    Array.from(this.state.fields).forEach(field => {\r\n      if(\r\n        (field.type === 'checkbox' &&\r\n        field.checked) ||\r\n        (field.type === 'text' &&\r\n        field.value)\r\n      ){\r\n        filters[field.dataset.filter] =\r\n        filters[field.dataset.filter] ?\r\n        filters[field.dataset.filter] : new Array();\r\n\r\n        filters[field.dataset.filter].push([field.value]);\r\n      }\r\n    });\r\n\r\n    //Set parameters for material;\r\n    if( filters.material ){\r\n      query_params = query_params + '&material=';\r\n      filters.material.forEach( (material, i) => {\r\n        query_params = i ?\r\n        query_params + `,${material}` : query_params + material;\r\n      });\r\n    }\r\n\r\n    //Set parameters for color;\r\n    if( filters.color ){\r\n      query_params = query_params + '&color=';\r\n      filters.color.forEach( (color, i) => {\r\n        query_params = i ?\r\n        query_params + `,${color}` : query_params + color;\r\n      });\r\n    }\r\n\r\n    //Set parameters for age and sex;\r\n    if( filters.person ){\r\n      query_params = query_params + '&person=';\r\n      filters.person.forEach( (person, i) => {\r\n        query_params = i ?\r\n        query_params + `,${person}` : query_params + person;\r\n      });\r\n    }\r\n\r\n    //Set parameters for brand;\r\n    if( filters.brand ){\r\n      query_params = query_params + '&brand=';\r\n      filters.brand.forEach( (brand, i) => {\r\n        query_params = i ?\r\n        query_params + `,${brand}` : query_params + brand;\r\n      });\r\n    }\r\n\r\n    //Set parameters for category;\r\n    if( filters.cat ){\r\n      query_params = query_params + '&cat=';\r\n      filters.cat.forEach( (cat, i) => {\r\n        query_params = i ?\r\n        query_params + `,${cat}` : query_params + cat;\r\n      });\r\n    }\r\n\r\n    //Set parameters for min-max price;\r\n    if( filters.min_price ){\r\n      query_params = query_params + `&min_price=${filters.min_price}`;\r\n    }\r\n    if( filters.max_price ){\r\n      query_params = query_params + `&max_price=${filters.max_price}`;\r\n    }\r\n\r\n    //Set parameters for min-max stock;\r\n    if( filters.min_stock ){\r\n      query_params = query_params + `&min_stock=${filters.min_stock}`;\r\n    }\r\n    if( filters.max_stock ){\r\n      query_params = query_params + `&max_stock=${filters.max_stock}`;\r\n    }\r\n\r\n    console.log(query_params)\r\n    this.props.history.push(`/catalogue/search?${query_params}`);\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <Fragment>\r\n        <div className=\"menu_tabs_content_annotation\">\r\n          <p>Просто отметьте все интересующие вас параметры и мы составим для вас оптимальный список товаров</p>\r\n        </div>\r\n        <div id=\"filters\" className=\"menu_tabs_content_filters\">\r\n          <form id=\"filters-form\" className=\"menu_tabs_content_filters_form\">\r\n\r\n            <div className=\"menu_tabs_content_filters_form_left-column\">\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Основные фильтры</legend>\r\n                <LabeledCheckbox label=\"Хит продаж\" value=\"sales\" />\r\n                <LabeledCheckbox label=\"Новое поступление\" value=\"date\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Пол и возраст</legend>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"male\" label=\"Мужчинам\"/>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"female\" label=\"Женщинам\"/>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"boys\" label=\"Мальчикам\"/>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"girls\" label=\"Девочкам\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Материал</legend>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"leather\" label=\"Кожа\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"ecoleather\" label=\"Экокожа\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"vinyl\" label=\"ПВХ\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"suede\" label=\"Замша\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"metal\" label=\"Металл\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"wood\" label=\"Дерево\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"plastic\" label=\"Пластик\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Бренд</legend>\r\n                <LabeledCheckbox dataFilter=\"brand\" value=\"matoone\" label=\"Matoone\"/>\r\n                <LabeledCheckbox dataFilter=\"brand\" value=\"fashion\" label=\"Модные бренды одежды\"/>\r\n                <LabeledCheckbox dataFilter=\"brand\" value=\"carbrand\" label=\"Автомобильные бренды\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Цвет</legend>\r\n                <ColorCheckbox title=\"Белый\" value=\"white\" color=\"#FFF\"/>\r\n                <ColorCheckbox title=\"Голубой\" value=\"white_blue\" color=\"#7787FF\"/>\r\n                <ColorCheckbox title=\"Черный\" value=\"black\" color=\"#000\"/>\r\n                <ColorCheckbox title=\"Красный\" value=\"red\" color=\"#F23939\"/>\r\n                <ColorCheckbox title=\"Белый\" value=\"white\" color=\"#FFF\"/>\r\n                <ColorCheckbox title=\"Голубой\" value=\"white_blue\" color=\"#7787FF\"/>\r\n                <ColorCheckbox title=\"Черный\" value=\"black\" color=\"#000\"/>\r\n                <ColorCheckbox title=\"Красный\" value=\"red\" color=\"#F23939\"/>\r\n                <ColorCheckbox title=\"Белый\" value=\"white\" color=\"#FFF\"/>\r\n                <ColorCheckbox title=\"Голубой\" value=\"white_blue\" color=\"#7787FF\"/>\r\n              </div>\r\n\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Цена ₽</legend>\r\n                <input type=\"number\" data-filter=\"min_price\" name=\"min_price\" placeholder=\"От\"/>\r\n                <input type=\"number\" data-filter=\"max_price\" name=\"max_price\" placeholder=\"До\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>В наличии (шт)</legend>\r\n                <input type=\"number\" data-filter=\"min_stock\" name=\"min_stock\" placeholder=\"От\"/>\r\n                <input type=\"number\" data-filter=\"max_stock\" name=\"max_stock\" placeholder=\"До\"/>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"menu_tabs_content_filters_form_right-column\">\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Деньги, карты и ключи</legend>\r\n                <LabeledCheckbox label=\"Кошельки\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Обложки для</legend>\r\n                <LabeledCheckbox label=\"Паспорта\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Рюкзаки и сумки</legend>\r\n                <LabeledCheckbox label=\"Рюкзаки\"/>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"menu_tabs_content_filters_form_controls\">\r\n              <button onClick={ this.submitSearch } id=\"submit_search\" className=\"proxima-18\">Поиск</button>\r\n              <button onClick={ this.resetFilters } id=\"reset_filters\" className=\"proxima-18\">Сбросить</button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nclass MenuCategories extends Component {\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if( prevState.selected !== this.state.selected ){\r\n      this.fetchCategories(this.state.selected);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchCategories();\r\n  }\r\n\r\n  state = {\r\n    cats: null,\r\n    subcats: null,\r\n    selected: []\r\n  }\r\n\r\n  fetchCategories = ( id ) => {\r\n    let url =\r\n    `http://localhost/wp-json/product-fetcher/v1/categories/?parent_id=${id ? id : 0}`;\r\n\r\n    fetch( url, {\r\n      method: 'get',\r\n      mode: 'cors',\r\n    })\r\n    .then( response => response.json() )\r\n    .then( response => { id ? this.setState({ subcats: response }) : this.setState({ cats: response }) } )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n  selectCategroy = (id) => {\r\n    this.setState({selected:id});\r\n  }\r\n\r\n  render() {\r\n\r\n    const { selected, cats, subcats } = this.state;\r\n\r\n    return(\r\n      <Fragment>\r\n        <div className=\"menu_tabs_content_annotation\">\r\n          <p>\r\n            Просто отметьте все интересующие\r\n             вас параметры и мы составим для\r\n              вас оптимальный список товаров\r\n          </p>\r\n        </div>\r\n        <div className=\"menu_tabs_content_categories\">\r\n          <ul>\r\n            {\r\n              cats && Array.isArray(cats) ?\r\n              cats.map(\r\n                (cat, i) =>\r\n                <li\r\n                  onClick={ () => this.selectCategroy( cat.id ) }\r\n                  className={ selected === cat.id ? 'active-category' : null }\r\n                >\r\n                  { cat.name }\r\n                </li>\r\n              ) : null\r\n            }\r\n          </ul>\r\n          <ul>\r\n            {\r\n              subcats && Array.isArray(subcats) ?\r\n              subcats.map(\r\n                (subcat, i) =>\r\n                <li>\r\n                  <Link to={`catalogue/${ subcat.parent }/${ subcat.id }`}>{ subcat.name }</Link>\r\n                </li>\r\n              ) : null\r\n            }\r\n          </ul>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class SearchBar extends Component{\r\n\r\n  componentDidUpdate( prevProps, prevState ) {\r\n    if( prevState.search !== this.state.search && this.state.search === '' ){\r\n      this.controller.abort();\r\n      this.controller = new AbortController();\r\n      this.setState({ results: null });\r\n    }\r\n    else if( prevState.search !== this.state.search ){\r\n      this.controller.abort();\r\n      this.controller = new AbortController();\r\n      this.loadResults(this.state.search);\r\n    }\r\n  }\r\n\r\n  state = {\r\n    search: null,\r\n    results: null,\r\n  }\r\n\r\n  controller = new AbortController();\r\n\r\n  loadResults = (search) => {\r\n\r\n    let url = `http://localhost/wp-json/product-fetcher/v1/search?s=${search}`;\r\n\r\n    fetch( url, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      signal: this.controller.signal\r\n    }).\r\n    then( res => res.json() ).\r\n    then( res => this.setState({ results: res }) ).\r\n    catch( err => console.log( err ) );\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      results,\r\n    } = this.state;\r\n    return(\r\n      <div className=\"search-container\">\r\n        <div className={(\"search-bar \") + this.props.className}>\r\n          <form>\r\n            <input onChange={ e => this.setState({ search: e.currentTarget.value }) } type=\"text\" name=\"search\" placeholder={ this.props.placeholder } className=\"proxima-18 m-proxima-12\"/>\r\n            <button></button>\r\n          </form>\r\n        </div>\r\n        <div id=\"live-search-results\" className={ results ? 'active' : null }>\r\n          <div id=\"results-container\" className=\"results-container\">\r\n            {\r\n                results ?\r\n                Array.isArray(results) > 0 ?\r\n                  results.map( result => <SearchItem product={result}/> ) :\r\n                  console.log( results.message )\r\n                :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction SearchItem(props) {\r\n\r\n  function returnBrand ( attributes ) {\r\n    let brand = attributes.find( attribute => attribute.name === 'бренд');\r\n    return brand ? brand.options[0] : null;\r\n  }\r\n\r\n  const { product } = props;\r\n\r\n  return(\r\n    <li className=\"search_results_item\">\r\n      <Link to={`catalogue/`}>\r\n        <img src={ product.images[0].src }/>\r\n        <div className=\"search_results_item_info\">\r\n          <h2 className=\"search_results_item_info_title\">{ product.name }</h2>\r\n          <span className=\"search_results_item_info_brand\"><span>Бренд: </span>{ returnBrand(product.attributes) }</span>\r\n          <span className=\"search_results_item_info_stock\"><span>В наличии: </span>{ product.stock_quantity }</span>\r\n          <span className=\"search_results_item_info_price\"><span>Цена: </span>{ product.price }</span>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Search from '../ui/search-bar.component.js';\r\n\r\nimport logo from '../../assets/images/logo.svg';\r\n\r\nexport default class Header extends Component{\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if( prevState.activeMenu === this.state.activeMenu && prevState.activeMenu === 1 ){\r\n      this.openCatalog();\r\n    }\r\n  }\r\n\r\n  state = {\r\n    activeMenu: 0,\r\n  }\r\n\r\n  openCatalog = () => {\r\n    let menu = document.getElementById('menu');\r\n    let menu_state = this.state.activeMenu;\r\n\r\n    if ( !menu_state ) {\r\n      menu.classList.add('active-menu');\r\n      this.setState({ activeMenu: 1 });\r\n    }else{\r\n      menu.classList.remove('active-menu');\r\n      this.setState({ activeMenu: 0 });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <header>\r\n        <div className=\"logo-wrapper\">\r\n          <img src={logo}/>\r\n        </div>\r\n        <button onClick={ this.openCatalog } className=\"catalog-button proxima-18 m-proxima-12\">Каталог</button>\r\n        <Search placeholder=\"Поиск\"/>\r\n        <nav className=\"navigation proxima-18\">\r\n          <Link to=\"/\">Скидки</Link>\r\n          <Link to=\"/\">Отмеченные</Link>\r\n          <Link to=\"/\">Корзина</Link>\r\n        </nav>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class SearchBar extends Component{\r\n  render() {\r\n    return(\r\n      <div className={(\"categories \") + this.props.className}>\r\n        <nav>\r\n          <ul className=\"proxima-18 m-proxima-12\">\r\n            <li><Link to=\"/\">Каталог</Link></li>\r\n            <li><Link to=\"/\">Чехлы для телефонов</Link></li>\r\n            <li><Link to=\"/\">Кошельки</Link></li>\r\n            <li><Link to=\"/\">Косметички</Link></li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class ButtonLink extends Component{\r\n  render() {\r\n    return(\r\n      <Link to={ this.props.to } className={ (\"button-link proxima-18 m-proxima-12 \") + this.props.className}>\r\n        { this.props.text }\r\n      </Link>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ButtonLink from './button-link.component.js'\r\n\r\nexport default class LinkButton extends Component{\r\n\r\n  componentDidMount() {\r\n    if( this.props.id ) {\r\n      let slideCount = document.getElementById(this.props.id).getElementsByClassName('slide').length;\r\n      this.setState({slideCount});\r\n    }\r\n  }\r\n\r\n  state = {\r\n    slideCount: 0,\r\n    activeSlide: 0\r\n  }\r\n\r\n  changeSlide = (e) => {\r\n    let goToSlide = parseInt(e.currentTarget.dataset.slide);\r\n\r\n    if( goToSlide > -1 && goToSlide < this.state.slideCount ){\r\n      document.getElementById(this.props.id).style.setProperty('--slide', goToSlide);\r\n      this.setState({ activeSlide: goToSlide });\r\n    }\r\n  };\r\n\r\n  render() {\r\n\r\n    const {\r\n      slideCount,\r\n      activeSlide\r\n    } = this.state;\r\n\r\n    const slideButtons = [];\r\n\r\n    for( let i = 0; i < slideCount; i++ ) {\r\n      slideButtons.push(\r\n        <button key={i} data-slide={i} className=\"go-to-slide\">\r\n        </button>\r\n      );\r\n    };\r\n\r\n    return(\r\n      <div id={ this.props.id } className=\"slider\">\r\n        <div className=\"slides-container\">\r\n          <div className=\"slide\">\r\n            <div className=\"text-container\">\r\n              <h2 className=\"montserrat-80 m-montserrat-30\">Новое поступление</h2>\r\n              <p className=\"proxima-18 m-proxima-12\">\r\n              Современный daypack рюкзак из экологически чистой ткани на основе натурального\r\nхлопка с водоотталкивающим покрытием. Рюкзак с вместительным основным отсеком\r\nна двухсторонней молнии, внутренним карманом с мягкой подкладкой для ноутбука,\r\nдополнительными боковыми карманами на молниях для быстрого доступа и потайным\r\nкарманом на лицевой части.\r\n              </p>\r\n              <ButtonLink to=\"\" text=\"Перейти к каталогу\"/>\r\n            </div>\r\n          </div>\r\n          <div className=\"slide\">\r\n          </div>\r\n          <div className=\"slide\">\r\n          </div>\r\n          <div className=\"slide\">\r\n          </div>\r\n        </div>\r\n        <div className=\"controls\">\r\n          <i className=\"indicator\"></i>\r\n          <button onClick={ this.changeSlide } data-slide={ activeSlide - 1 } className=\"prev-slide\"></button>\r\n          { slideButtons }\r\n          <button onClick={ this.changeSlide } data-slide={ activeSlide + 1 } className=\"next-slide\"></button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport ButtonLink from '../ui/button-link.component.js';\r\n\r\nexport default class Post extends Component{\r\n  render() {\r\n\r\n    const {\r\n      className,\r\n      post\r\n    } = this.props;\r\n\r\n    return(\r\n      <Fragment>\r\n        { post ?\r\n          <div style={{ backgroundImage: `url(${post._embedded['wp:featuredmedia'][0].source_url})` }} className={ \"post \" + post._embedded['wp:term'][0][0].name }>\r\n            <h2 className=\"montserrat-56 m-montserrat-30\">\r\n              { post.title['rendered'] }\r\n            </h2>\r\n            <p className=\"proxima-18 m-proxima-12\">\r\n              { ReactHtmlParser(post.content['rendered']) }\r\n            </p>\r\n            <ButtonLink to=\"/\" text=\"Посмотреть раздел\" className=\"proxima-18\"/>\r\n          </div> :\r\n          null\r\n        }\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport SearchBar from '../components/ui/search-bar.component.js';\r\nimport Categories from '../components/home/categories.component.js';\r\nimport Slider from '../components/ui/slider.component.js';\r\nimport Post from '../components/home/post.component.js';\r\n\r\nexport default class Home extends Component{\r\n\r\n  componentDidMount() {\r\n    this.getPosts();\r\n    this.calculateVh();\r\n  }\r\n\r\n  calculateVh = () => {\r\n    let vh = document.documentElement.clientHeight / 100;\r\n    document.getElementById('top-container').style.setProperty('--vh', `${vh}px`);\r\n  }\r\n\r\n  getPosts = () => {\r\n    let url = 'https://gotocart.z-test.online/wp-json/wp/v2/posts?_embed&filter[orderby]=date&order=desc';\r\n    fetch(url, {\r\n        method: 'GET',\r\n        mode: 'cors'\r\n    }).then( response => response.json() )\r\n    .then( response => {\r\n        this.setState({posts: response})\r\n    }).catch(function (error) {\r\n            console.log(error)\r\n        });\r\n  }\r\n\r\n  state = {\r\n    posts: [],\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      posts\r\n    } = this.state;\r\n\r\n    return(\r\n      <main id=\"content\" className=\"home-page\">\r\n        <div id=\"top-container\">\r\n          <h1 className=\"montserrat-80 m-montserrat-30\">Go to store</h1>\r\n          <p className=\"proxima-18 m-proxima-12\">\r\n            Добро пожаловать на оптовый магазин нового уровня,\r\n            Заходите, смотрите и покупайте\r\n          </p>\r\n          <SearchBar placeholder=\"Например: кожаный чехол для iPhone 11\"/>\r\n          <Categories/>\r\n          <Slider id=\"slider-home-page\"/>\r\n        </div>\r\n        <div id=\"posts-container\">\r\n          { posts.map((post) => <Post post={post}/> ) }\r\n        </div>\r\n      </main>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\n\r\nexport default function CategoryItem (props) {\r\n\r\n  let { url } = useRouteMatch();\r\n\r\n  const {\r\n    id,\r\n    thumb,\r\n    title\r\n  } = props;\r\n\r\n  return(\r\n    <div className=\"category-item\">\r\n      <Link to={`${url}/${id}`}>\r\n        <img src={ thumb } />\r\n        <h2>{ title }</h2>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Loading() {\r\n  return(\r\n    <div className=\"loading\">\r\n      <div className=\"loading_inner-circle_0\">\r\n        <div className=\"loading_inner-circle_1\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport CategoryItem from './category_item.component';\r\nimport Loading from 'components/ui/loading.component';\r\n\r\nexport default class Categories extends Component {\r\n\r\n  componentDidMount() {\r\n    this.fetchCategories();\r\n  }\r\n\r\n  state = {\r\n    categories: null\r\n  }\r\n\r\n  fetchCategories = () => {\r\n\r\n    let parent_id =\r\n    this.props.match.params.cat_id ? this.props.match.params.cat_id : 0;\r\n\r\n    let url =\r\n    `http://localhost/wp-json/product-fetcher/v1/categories/?parent_id=${parent_id}`;\r\n\r\n    fetch( url, {\r\n      method: 'get',\r\n      mode: 'cors',\r\n    })\r\n    .then( response => response.json() )\r\n    .then( response => this.setState({ categories: response }) )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <main id=\"categories\">\r\n        <section>\r\n          <div className=\"catalog-container\">\r\n            <div id=\"catalog-items-container\" className=\"grid-1\">\r\n              {\r\n                !(Array.isArray( this.state.categories )) ?\r\n                <Loading/> :\r\n                this.state.categories.map( (category, i) =>\r\n                  <CategoryItem\r\n                   id={ category.id }\r\n                   thumb={ category.image.src }\r\n                   title={ category.name }\r\n                  />\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport function VKShareButton(props) {\r\n  return(\r\n    <a\r\n      className=\"vk-share-button\"\r\n      href={`https://vk.com/share.php?url=${props.link}`}\r\n      target=\"_blank\"\r\n    >\r\n    </a>\r\n  );\r\n}\r\n\r\nexport function FBShareButton(props) {\r\n  return(\r\n    <a\r\n      className=\"fb-share-button\"\r\n      href={`https://www.facebook.com/sharer/sharer.php?u=${props.link}`}\r\n      target=\"_blank\"\r\n    >\r\n    </a>\r\n  );\r\n}\r\n\r\nexport function FavButton(props) {\r\n  return(\r\n    <button\r\n      className=\"add-to-fav-button\"\r\n    >\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport Tabs from '../ui/tabs.component';\r\nimport { VKShareButton, FBShareButton, FavButton } from 'components/ui/share-buttons.component';\r\n\r\nexport function ProductItemList(props) {\r\n\r\n  const { url } = useRouteMatch();\r\n\r\n  function composeAttributes( attributes ) {\r\n    return <ul className=\"catalog-item_content_info-tabs_content_attributes\">\r\n             {\r\n              attributes.map( attribute => {\r\n               if ( attribute.name !== \"бренд\" && attribute.slug !== \"pa_color\" )\r\n               return <li>\r\n                       <span>\r\n                         { attribute.name.charAt(0).toUpperCase() + attribute.name.replace(/-/g, \" \").slice(1) }\r\n                       </span>\r\n                       <hr/>\r\n                       <span>{ attribute.options.map( (option, i) => option + (attribute.options.length > 1 ? '; ' : '') ) }</span>\r\n                     </li>\r\n               }\r\n              )\r\n            }\r\n           </ul>\r\n  }\r\n\r\n  function composeComments( comments ) {\r\n    return <ul className=\"catalog-item_content_info-tabs_content_comments\">\r\n             {\r\n               comments.map( comment =>\r\n                 <li>\r\n                   <img className=\"product-comment_author-avatar\" src={ comment.author_avatar }/>\r\n                   <p className=\"product-comment_author-name\">{ comment.author_name }</p>\r\n                   <p className=\"product-comment_comment-content\">{ comment.comment_content }</p>\r\n                 </li>\r\n               )\r\n             }\r\n           </ul>\r\n  }\r\n\r\n  function composeColors( variations, attributes ) {\r\n    return variations.map( variation => {\r\n          let color =\r\n          attributes.find( x => x.slug === 'pa_color' ).options.find( x => x.slug === variation.attributes[0].option ).description;\r\n          return <li style={{backgroundColor: color}}></li>;\r\n      })\r\n  }\r\n\r\n  function returnBrand ( attributes ) {\r\n    let brand = attributes.find( attribute => attribute.name === 'бренд');\r\n    return brand ? brand.options[0] : null;\r\n  }\r\n\r\n  function generateLink(id) {\r\n    let link = `http://localhost:3000${url}/${id}`;\r\n    return link;\r\n  }\r\n\r\n  const {\r\n    id,\r\n    title,\r\n    sku,\r\n    description,\r\n    price,\r\n    thumb,\r\n    attributes,\r\n    stock,\r\n    comments,\r\n    variations\r\n  } = props;\r\n\r\n  return(\r\n    <div className=\"catalog-item\">\r\n      <div className=\"catalog-item_share\">\r\n        <VKShareButton link={ generateLink(id) }/>\r\n        <FBShareButton link={ generateLink(id) }/>\r\n        <FavButton/>\r\n      </div>\r\n\r\n      <div className=\"catalog-item_image-wrapper\">\r\n        <img src={ thumb } />\r\n      </div>\r\n      <div className=\"catalog-item_content\">\r\n        <h2><Link to={ `${url}/${id}` }>{ title }</Link></h2>\r\n        <span className=\"catalog-item_content_sku\"><span>Арт: </span>{ sku }</span>\r\n        <span className=\"catalog-item_content_brand\">\r\n          <span>Бренд: </span>\r\n          { returnBrand(attributes) }\r\n        </span>\r\n\r\n        <Tabs\r\n        className=\"catalog-item_content_info-tabs\"\r\n        content={[\r\n          {\r\n            title: \"Описание\",\r\n            content: ReactHtmlParser(description)\r\n          },\r\n          {\r\n            title: \"Характеристики\",\r\n            content: composeAttributes(attributes)\r\n          },\r\n          {\r\n            title: \"Отзывы\",\r\n            content: composeComments(comments)\r\n          }\r\n        ]}\r\n        />\r\n\r\n        <ul className=\"catalog-item_content_colors\">\r\n          { composeColors(variations, attributes) }\r\n        </ul>\r\n\r\n        <span className=\"catalog-item_content_stock\">\r\n          <span>В наличии: </span>\r\n          { stock ? stock : 0 }шт.\r\n        </span>\r\n\r\n        <div className=\"catalog-item_content_buy\">\r\n          <input placeholder=\"1 шт.\" value=\"\"/>\r\n          <button>Купить</button>\r\n        </div>\r\n        <div className=\"catalog-item_content_price\">\r\n          <p>{ price }₽</p>\r\n          <span>Выше опт — ниже цена</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ProductItemGrid(props) {\r\n\r\n  const { url } = useRouteMatch();\r\n\r\n  function generateLink(id) {\r\n    let link = `http://localhost:3000${url}/${id}`;\r\n    return link;\r\n  }\r\n\r\n  const {\r\n    id,\r\n    title,\r\n    description,\r\n    stock,\r\n    price,\r\n    thumb,\r\n    layout\r\n  } = props;\r\n\r\n  return(\r\n    <div className=\"catalog-item product-item\">\r\n      <img src={ thumb } />\r\n\r\n      <div className=\"product-item_share\">\r\n        <VKShareButton link={ generateLink(id) }/>\r\n        <FBShareButton link={ generateLink(id) }/>\r\n        <FavButton/>\r\n      </div>\r\n\r\n      <div className=\"product-item_info\">\r\n        <div className=\"product-item_info_preview\">\r\n          <h2>{ title }</h2>\r\n          <span>{\"До \" + price }₽</span>\r\n        </div>\r\n\r\n        <p className=\"product-item_info_desc\">\r\n          { ReactHtmlParser(description) }\r\n        </p>\r\n\r\n        <span className=\"product-item_info_stock\">\r\n          <span>В наличии:</span>\r\n          { stock }\r\n        </span>\r\n\r\n        <div className=\"product-item_info_price-and-link proxima-18\">\r\n          <span>{ price + \"₽\"}</span>\r\n          <Link to={ `${url}/${id}` }>Подробнее</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { LabeledCheckbox, ColorCheckbox } from './checkboxes.component';\r\n\r\nexport default function Filters(props) {\r\n\r\n  function resetFilters(e) {\r\n    e.preventDefault();\r\n\r\n    let form = document.getElementsByClassName('catalog-container_filters_form')[0];\r\n    let inputs = form.getElementsByTagName('input');\r\n\r\n    for ( let input  of inputs){\r\n      input.type === 'checkbox' ?\r\n      (input.checked = false) : (input.value = null);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className={ \"catalog-container_filters\" + \" \" + props.className }>\r\n      <form onSubmit={ e => props.applyFilters(e) } className=\"catalog-container_filters_form\">\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Основные фильтры</legend>\r\n          <LabeledCheckbox label=\"хит продаж\"/>\r\n          <LabeledCheckbox label=\"хит продаж\"/>\r\n          <LabeledCheckbox label=\"хит продаж\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Пол и возраст</legend>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"male\" label=\"Мужчинам\"/>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"female\" label=\"Женщинам\"/>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"boys\" label=\"Мальчикам\"/>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"girls\" label=\"Девочкам\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Материал</legend>\r\n          <LabeledCheckbox dataFilter=\"material\" value=\"leather\" label=\"кожа\"/>\r\n          <LabeledCheckbox dataFilter=\"material\" value=\"metal\" label=\"метал\"/>\r\n          <LabeledCheckbox dataFilter=\"material\" value=\"vinyl\" label=\"ПВХ\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Бренд</legend>\r\n          <LabeledCheckbox label=\"Nike\"/>\r\n          <LabeledCheckbox label=\"UniQlo\"/>\r\n          <LabeledCheckbox label=\"Stripes\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Цвет</legend>\r\n          <ColorCheckbox color=\"#FFF\"/>\r\n          <ColorCheckbox color=\"lightgray\"/>\r\n          <ColorCheckbox color=\"black\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Цена ₽</legend>\r\n          <input type=\"number\" data-filter=\"min_price\" placeholder=\"От\"/>\r\n          <input type=\"number\" data-filter=\"max_price\" placeholder=\"До\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>В наличии (шт)</legend>\r\n          <input type=\"number\" placeholder=\"От\"/>\r\n          <input type=\"number\" placeholder=\"До\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_controls\">\r\n          <button>Применить</button>\r\n          <button onClick={ e => resetFilters(e) }>Сбросить</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { ProductItemList, ProductItemGrid } from './product_item.component';\r\nimport Filters from './filters.component';\r\nimport Loading from 'components/ui/loading.component';\r\n\r\nexport default class Products extends Component{\r\n\r\n  componentDidMount() {\r\n    this.composeQuery();\r\n    console.log(this.state.query)\r\n  }\r\n\r\n  componentDidUpdate( prevProps ,prevState ) {\r\n    if ( prevState.query !== this.state.query ){\r\n      this.fetchProducts();\r\n      console.log(this.state.query);\r\n    }\r\n  }\r\n\r\n  state = {\r\n    query: {},\r\n    items: [],\r\n    layout: 'grid-0',\r\n    activeFilters: true\r\n  }\r\n\r\n  fetchProducts = () => {\r\n    let url =\r\n    `http://localhost/wp-json/product-fetcher/v1/search/?`;\r\n\r\n    Object.keys(this.state.query).forEach( key => {\r\n      url = url + '&' + key + '=' + this.state.query[key];\r\n    });\r\n\r\n    fetch( url, {\r\n      method: 'get',\r\n      mode: 'cors',\r\n    })\r\n    .then( response => response.json() )\r\n    .then( response => this.setState({ products: response }) )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n  composeQuery = () => {\r\n    let params = this.props.location.search.replace('?', '').split('&');\r\n    let query = [];\r\n\r\n    params.forEach( param => {\r\n      let name = param.split('=')[0];\r\n      let value = param.split('=')[1];\r\n      query[name] = value;\r\n    });\r\n\r\n    if( !query['cat'] && this.props.match.params.subcat_id ){\r\n      query['cat'] = this.props.match.params.subcat_id;\r\n    }\r\n\r\n    if( !query['orderby'] && !query['order']){\r\n      query['orderby'] = 'total_sales';\r\n      query['order'] = 'DESC';\r\n    }\r\n\r\n    this.setState(\r\n      state => {\r\n        return {\r\n          query,\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  changeOrder = e => {\r\n    let orderby = e.currentTarget.dataset.orderby;\r\n    let order = e.currentTarget.dataset.order;\r\n    let on_sale = e.currentTarget.dataset.onsale;\r\n\r\n    this.setState(\r\n      state => {\r\n        let query = Object.assign({}, state.query);\r\n        query.orderby = orderby;\r\n        query.order = order;\r\n        query.on_sale = on_sale ? on_sale : null;\r\n\r\n        return {\r\n          query,\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  changeLayout = e => {\r\n    let layout = e.currentTarget.type === 'range' ? ('grid-' + e.currentTarget.value) : e.currentTarget.value;\r\n\r\n    this.setState({ layout });\r\n  }\r\n\r\n  applyFilters = e => {\r\n    e.preventDefault();\r\n\r\n    let form = document.getElementsByClassName('catalog-container_filters_form')[0];\r\n    let inputs = form.getElementsByTagName('input');\r\n    let applied_filters = {};\r\n\r\n    for ( let input of inputs ){\r\n      if(\r\n        (input.type === 'checkbox' &&\r\n        input.checked) ||\r\n        (input.type === 'number' &&\r\n        input.value)\r\n      ){\r\n        applied_filters[input.dataset.filter] =\r\n        applied_filters[input.dataset.filter] ?\r\n        applied_filters[input.dataset.filter] : new Array();\r\n\r\n        applied_filters[input.dataset.filter].push(input.value);\r\n      }\r\n    }\r\n\r\n    let new_query = [];\r\n\r\n    for ( let [key, value] of Object.entries( applied_filters ) ){\r\n      let parameter;\r\n      value.forEach((option, i) => {\r\n        parameter = i ? parameter + `,${option}` : option;\r\n      });\r\n      new_query[key] = parameter;\r\n    }\r\n\r\n    this.setState(\r\n      state => {\r\n        let query = Object.assign({}, state.query);\r\n        let query_params = [\r\n          'color',\r\n          'material',\r\n          'person',\r\n          'brand',\r\n          'max_price',\r\n          'min_price',\r\n          'max_stock',\r\n          'min_stock'\r\n        ];\r\n\r\n        query_params.forEach( param => {\r\n           new_query[param] ? (query[param] = new_query[param]) : (delete query[param]);\r\n        });\r\n\r\n        return {\r\n          query,\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      products,\r\n      layout,\r\n      activeFilters\r\n    } = this.state;\r\n\r\n    return(\r\n      <main id=\"catalog\">\r\n        <section>\r\n          <div className=\"catalog-container\">\r\n            <CatalogControls\r\n             activeOrder={\r\n               this.state.query.on_sale ? 'on_sale' : this.state.query.orderby + '_' + this.state.query.order\r\n             }\r\n             activeLayout={\r\n               this.state.layout\r\n             }\r\n             changeOrder={ this.changeOrder }\r\n             changeLayout={ this.changeLayout }\r\n            />\r\n\r\n            { activeFilters ? <Filters applyFilters={ this.applyFilters } className={ layout }/> : null }\r\n\r\n            <div\r\n              id=\"catalog-items-container\"\r\n              className={ layout + \" \" + (activeFilters ? \"active-filters\" : null) }\r\n            >\r\n              { (Array.isArray( this.state.products )) ? layout !== 'list' ?\r\n                products.map( (product, i) =>\r\n                  <ProductItemGrid\r\n                    id={product.id}\r\n                    title={product.name}\r\n                    description={product.short_description}\r\n                    stock={product.stock_quantity}\r\n                    price={product.price}\r\n                    thumb={product.images[0].src}\r\n                    layout={layout}\r\n                  />\r\n                ) :\r\n                products.map( (product, i) =>\r\n                  <ProductItemList\r\n                    id={product.id}\r\n                    title={product.name}\r\n                    sku={product.sku}\r\n                    description={product.description}\r\n                    price={product.price}\r\n                    thumb={product.images[0].src}\r\n                    attributes={product.attributes}\r\n                    stock={product.stock_quantity}\r\n                    comments={product.comments}\r\n                    variations={product.variations}\r\n                  />\r\n                ) : <Loading/>}\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    )\r\n  }\r\n}\r\n\r\nclass CatalogControls extends Component {\r\n  render() {\r\n\r\n    const {\r\n      activeOrder,\r\n      activeLayout\r\n    } = this.props;\r\n\r\n    return(\r\n      <div className=\"catalog-controls\">\r\n        <div className=\"catalog-controls_change-order\">\r\n          <span>Сначала</span>\r\n          <div>\r\n            <button onClick={ this.props.changeOrder }\r\n             data-orderby=\"total_sales\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"total_sales_DESC\" ? \"active-order\" : null }\r\n            >\r\n              Популярные\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-orderby=\"date\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"date_DESC\" ? \"active-order\" : null }\r\n            >\r\n              Новые\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-orderby=\"_price\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"_price_DESC\" ? \"active-order\" : null }\r\n            >\r\n              Дорогие\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-orderby=\"_price\"\r\n             data-order=\"ASC\"\r\n             className={ activeOrder === \"_price_ASC\" ? \"active-order\" : null }\r\n            >\r\n              Дешевые\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-onsale=\"true\"\r\n             data-orderby=\"_price\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"on_sale\" ? \"active-order\" : null }\r\n            >\r\n              Со скидкой\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"catalog-controls_change-layout\">\r\n          <span>Отображать</span>\r\n          <div>\r\n            <button onClick={ this.props.changeLayout } className={ activeLayout === 'list' ? 'active-layout' : null } value=\"list\">Списком</button>\r\n            <label className={ activeLayout.includes('grid') ? 'active-layout' : null }>\r\n              <span>Сеткой</span>\r\n              <input onClick={ this.props.changeLayout } type=\"range\" min=\"0\" max=\"2\" defaultValue=\"0\"/>\r\n              <div className=\"slider-marks\"><i/><i/><i/></div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component, Fragment, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Tabs from 'components/ui/tabs.component';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport { VKShareButton, FBShareButton, FavButton } from 'components/ui/share-buttons.component';\r\nimport { ProductItemGrid } from 'components/catalogue/product_item.component';\r\nimport Loading from 'components/ui/loading.component';\r\n\r\nexport default class Product extends Component {\r\n\r\n  componentDidMount() {\r\n    this.fetchProductData();\r\n  }\r\n\r\n  state = {\r\n    product_data: null,\r\n    currentVariation: 0,\r\n  }\r\n\r\n  fetchProductData = () => {\r\n    let url = `http://localhost/wp-json/product-fetcher/v1/products/${ this.props.match.params.product_id }`;\r\n\r\n    fetch( url, {\r\n      'method': 'get',\r\n      'mode': 'cors'\r\n    })\r\n    .then( res => res.json() )\r\n    .then( res => this.setState({ product_data: res }) )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n  changeVariation = (i) => {\r\n    this.setState({ currentVariation: i })\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      product_data,\r\n      currentVariation\r\n    } = this.state;\r\n    console.log(product_data)\r\n    let path = this.props.location.pathname;\r\n    let subcatLink = path.substring(0, path.lastIndexOf(\"/\"));\r\n    let catLink = subcatLink.substring(0, subcatLink.lastIndexOf(\"/\"));\r\n\r\n    return(\r\n      <div id=\"individual-product-wrapper\">\r\n        <style>\r\n          {\r\n            `body{\r\n              overflow: hidden\r\n            }`\r\n          }\r\n        </style>\r\n        <section id=\"individual-product\">\r\n          <div id=\"individual-product_share\" className=\"individual-product_share\">\r\n            <VKShareButton link={ path }/>\r\n            <FBShareButton link={ path }/>\r\n            <FavButton/>\r\n          </div>\r\n          <Link id=\"individual-product_close\" to={subcatLink}></Link>\r\n          {\r\n            product_data ?\r\n\r\n            <Fragment>\r\n              <div id=\"product-container\" className=\"product\">\r\n                <ProductImages product={ product_data.variations[currentVariation] }/>\r\n                <ProductInfo product={ product_data }/>\r\n              </div>\r\n              <RelatedProducts products={ product_data.related }/>\r\n            </Fragment>\r\n\r\n            :\r\n\r\n            <Loading/>\r\n          }\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction ProductImages( props ) {\r\n\r\n  const { product } = props;\r\n\r\n  const [ currentImage, setCurrentImage] = useState(0);\r\n\r\n  function changeImage(i) {\r\n    setCurrentImage(i);\r\n  }\r\n\r\n  return(\r\n    <div className=\"product_images\">\r\n      <div className=\"product_images_selected-wrapper\">\r\n        <img src={ product.images[currentImage].src } />\r\n      </div>\r\n      <div className=\"product_images_selector\">\r\n        {\r\n          product.images.map(\r\n            (image, i) =>\r\n            <button\r\n             className={ currentImage === i ? 'active-image' : null }\r\n             onClick={ () => changeImage(i) }\r\n            >\r\n              <img src={ image.src }/>\r\n            </button>\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProductInfo(props) {\r\n\r\n  const { product } = props;\r\n\r\n  function composeAttributes( attributes ) {\r\n    return <ul className=\"product_info_tabs_content_attributes\">\r\n             {\r\n              attributes.map( attribute => {\r\n               if ( attribute.name !== \"бренд\" && attribute.slug !== \"pa_color\" )\r\n               return <li>\r\n                       <span>\r\n                         { attribute.name.charAt(0).toUpperCase() + attribute.name.replace(/-/g, \" \").slice(1) }\r\n                       </span>\r\n                       <hr/>\r\n                       <span>{ attribute.options.map( (option, i) => option + (attribute.options.length > 1 ? '; ' : '') ) }</span>\r\n                     </li>\r\n               }\r\n              )\r\n            }\r\n           </ul>\r\n  }\r\n\r\n  function composeComments( comments ) {\r\n    return <ul className=\"product_info_tabs_content_comments\">\r\n             {\r\n               comments > 0 ?\r\n               comments.map( comment =>\r\n                 <li>\r\n                   <img className=\"product-comment_author-avatar\" src={ comment.author_avatar }/>\r\n                   <p className=\"product-comment_author-name\">{ comment.author_name }</p>\r\n                   <p className=\"product-comment_comment-content\">{ comment.comment_content }</p>\r\n                 </li>\r\n               )\r\n               :\r\n               <li>Отзывы о данном товаре отсутствуют.</li>\r\n             }\r\n           </ul>\r\n  }\r\n\r\n  function composeColors( variations, attributes ) {\r\n    return variations.map( variation => {\r\n          let color =\r\n          attributes.find( x => x.slug === 'pa_color' ).options.find( x => x.slug === variation.attributes[0].option ).description;\r\n          return <li style={{backgroundColor: color}}></li>;\r\n      })\r\n  }\r\n\r\n  function returnBrand ( attributes ) {\r\n    let brand = attributes.find( attribute => attribute.name === 'бренд');\r\n    return brand ? brand.options[0] : null;\r\n  }\r\n\r\n  return(\r\n    <div className=\"product_info\">\r\n    {console.log(product)}\r\n      <h2 className=\"product_info_title\">{ product.name }</h2>\r\n      <span className=\"product_info_sku\"><span>Арт: </span>{ product.sku }</span>\r\n      <span className=\"product_info_brand\">\r\n        <span>Бренд: </span>\r\n        { returnBrand(product.attributes) }\r\n      </span>\r\n\r\n      <Tabs\r\n      className=\"product_info_tabs\"\r\n      content={[\r\n        {\r\n          title: \"Описание\",\r\n          content: <div className=\"product_info_tabs_content_description\">{ReactHtmlParser(product.description)}</div>\r\n        },\r\n        {\r\n          title: \"Характеристики\",\r\n          content: composeAttributes(product.attributes)\r\n        },\r\n        {\r\n          title: \"Отзывы\",\r\n          content: composeComments(product.comments)\r\n        }\r\n      ]}\r\n      />\r\n\r\n      <ul className=\"product_info_colors\">\r\n        <span>Цвета:</span>\r\n        { composeColors(product.variations, product.attributes) }\r\n      </ul>\r\n\r\n      <span className=\"product_info_stock\">\r\n        <span>В наличии: </span>\r\n        { product.stock ? product.stock : 0 }шт.\r\n      </span>\r\n\r\n      <div className=\"product_info_buy\">\r\n        <input placeholder=\"1 шт.\" value=\"\"/>\r\n        <button>Купить</button>\r\n      </div>\r\n      <div className=\"product_info_price\">\r\n        <p>{ product.price }₽</p>\r\n        <span>Выше опт — ниже цена</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RelatedProducts(props) {\r\n  return(\r\n    <div className=\"related-products grid-2\">\r\n      {\r\n        props.products.map( product =>\r\n          <ProductItemGrid\r\n            id={product.id}\r\n            title={product.name}\r\n            description={product.short_description}\r\n            stock={product.stock_quantity}\r\n            price={product.price}\r\n            thumb={product.images[0].src}\r\n          />\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route, useParams, useRouteMatch } from 'react-router-dom';\r\nimport Categories from '../components/catalogue/categories.component';\r\nimport Products from '../components/catalogue/products.component';\r\nimport Product from 'pages/product';\r\n\r\nexport default function( props ) {\r\n\r\n  let { path, url } = useRouteMatch();\r\n\r\n  return(\r\n    <div>\r\n      <Switch>\r\n        <Route path={`${path}/search`} render={ props => <Products {...props}/> }/>\r\n        <Route exact path={path} render={ props => <Categories {...props}/> }/>\r\n        <Route exact path={`${path}/:cat_id`} render={ props => <Categories {...props}/> }/>\r\n        <Route path={`${path}/:cat_id/:subcat_id`} render={ props => <Products {...props}/> }/>\r\n      </Switch>\r\n      <Route path={`${path}/:cat_id/:subcat_id/:product_id`} render={ props => <Product {...props}/> }/>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport { withRouter, Route } from 'react-router-dom';\r\nimport Menu from './components/common/menu.component.js';\r\n\r\nimport './App.scss';\r\n\r\nimport Header from './components/common/header.component.js';\r\nimport HomePage from './pages/home.js';\r\nimport Catalogue from './pages/catalogue.js';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    console.log( this.props.location )\r\n    return (\r\n      <Fragment>\r\n        <Header/>\r\n        <Menu history={ this.props.history }/>\r\n        <Route exact path=\"/\" render={ () => <HomePage/> }/>\r\n        <Route path=\"/catalogue\">\r\n          <Catalogue />\r\n        </Route>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <Router basename=\"/GoToCart\">\r\n    <App />\r\n  </Router> ,document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}