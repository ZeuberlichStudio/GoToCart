{"version":3,"sources":["assets/images/logo.svg","components/ui/search.component.js","components/common/header.component.js","components/ui/tabs.component.js","components/catalogue/checkboxes.component.js","components/common/menu.component.js","components/home/categories.component.js","components/ui/slider.component.js","components/home/post.component.js","pages/home.js","components/ui/share-buttons.component.js","components/catalogue/product_item.component.js","components/catalogue/filters.component.js","components/ui/loading.component.js","components/catalogue/products.component.js","pages/search.js","pages/category.js","pages/product.js","pages/product_modal.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SearchBar","state","search","results","controller","AbortController","loadResults","url","fetch","method","mode","signal","then","res","json","setState","catch","err","console","log","submitSearch","e","preventDefault","props","history","push","prevProps","prevState","this","live","abort","className","onSubmit","onChange","currentTarget","value","type","name","placeholder","Array","isArray","map","result","SearchItem","product","Component","location","useLocation","to","pathname","id","background","src","images","attributes","brand","find","attribute","options","returnBrand","stock_quantity","price","Header","activeMenu","openCatalog","menu","document","getElementById","classList","remove","add","logo","onClick","Tabs","tab","changing","changeTab","parseInt","dataset","setTimeout","content","item","i","data-tab","key","title","style","opacity","transition","LabeledCheckbox","data-filter","dataFilter","label","ColorCheckbox","backgroundColor","color","Menu","MenuFilters","filters","fields","resetFilters","field","checked","query_params","from","forEach","filter","material","person","cat","min_price","max_price","min_stock","max_stock","getElementsByTagName","MenuCategories","cats","subcats","selected","fetchCategories","response","selectCategroy","subcat","LinkButton","posts","slideCount","activeSlide","fetchPosts","postsCat","makeClones","container","slides","childNodes","firstClone","createElement","innerHTML","lastClone","length","insertBefore","appendChild","changeSlide","goToSlide","slide","setProperty","height","post","Slide","transform","data-slide","_embedded","source_url","rendered","HtmlParser","replace","link_url","link_text","Post","backgroundImage","ReactHtmlParser","Home","calculateVh","vh","documentElement","clientHeight","getPosts","error","VKShareButton","href","link","target","FBShareButton","FavButton","ProductItemList","useRouteMatch","generateLink","sku","description","thumb","stock","comments","variations","slug","charAt","toUpperCase","slice","option","composeAttributes","comment","author_avatar","author_name","comment_content","composeComments","variation","x","composeColors","ProductItemGrid","layout","Filters","applyFilters","inputs","getElementsByClassName","input","Loading","Products","query","items","activeFilters","fetchProducts","Object","keys","products","composeQuery","params","split","param","match","cat_id","changeOrder","orderby","order","on_sale","onsale","assign","changeLayout","applied_filters","new_query","parameter","entries","activeOrder","activeLayout","short_description","CatalogControls","data-orderby","data-order","data-onsale","includes","min","max","defaultValue","SearchPage","CategoryPage","useState","setCat","useEffect","fetchCatData","Product","product_id","product_data","currentVariation","fetchProductData","changeVariation","path","subcatLink","substring","lastIndexOf","ProductImages","ProductInfo","RelatedProducts","related","currentImage","setCurrentImage","image","changeImage","ProductModal","App","exact","render","component","withRouter","Boolean","window","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.dd04b342.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c2bb9448.svg\";","import React, { Component } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nexport default class SearchBar extends Component{\r\n\r\n  componentDidUpdate( prevProps, prevState ) {\r\n    if( this.props.live ){\r\n      if( prevState.search !== this.state.search && this.state.search === '' ){\r\n        this.controller.abort();\r\n        this.controller = new AbortController();\r\n        this.setState({ results: null });\r\n      }\r\n      else if( prevState.search !== this.state.search ){\r\n        this.controller.abort();\r\n        this.controller = new AbortController();\r\n        this.loadResults(this.state.search);\r\n      }\r\n    }\r\n  }\r\n\r\n  state = {\r\n    search: null,\r\n    results: null,\r\n  }\r\n\r\n  controller = new AbortController();\r\n\r\n  loadResults = (search) => {\r\n\r\n    let url = `http://localhost/wp-json/product-fetcher/v1/search?s=${search}`;\r\n\r\n    fetch( url, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      signal: this.controller.signal\r\n    }).\r\n    then( res => res.json() ).\r\n    then( res => this.setState({ results: res }) ).\r\n    catch( err => console.log( err ) );\r\n  }\r\n\r\n  submitSearch = e => {\r\n    e.preventDefault();\r\n    this.props.history.push(`/search?s=${this.state.search}`);\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      results,\r\n    } = this.state;\r\n\r\n    return(\r\n      <div className={this.props.className}>\r\n\r\n        <div className={`${this.props.className}_search-bar`}>\r\n          <form onSubmit={ e => this.submitSearch(e) }>\r\n            <input\r\n              onChange={ e => this.setState({ search: e.currentTarget.value }) }\r\n              type=\"text\" name=\"search\"\r\n              placeholder={ this.props.placeholder }\r\n            />\r\n            <button></button>\r\n          </form>\r\n        </div>\r\n\r\n        <div\r\n          className={ `${this.props.className}_live-results-wrapper ${results ? 'active' : null}` }\r\n        >\r\n          <div className={`${this.props.className}_live-results`}>\r\n            {\r\n              Array.isArray(results) ?\r\n              results.map( result =>\r\n                <SearchItem\r\n                  className={`${this.props.className}_live-results_result`}\r\n                  product={result}\r\n                />\r\n              ) : null\r\n            }\r\n            {\r\n              results && !Array.isArray(results) ?\r\n              <li>По вашему запросу ничего не найдено</li> : null\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction SearchItem(props) {\r\n  let location = useLocation();\r\n\r\n  function returnBrand ( attributes ) {\r\n    let brand = attributes.find( attribute => attribute.name === 'бренд');\r\n    return brand ? brand.options[0] : null;\r\n  }\r\n\r\n  const { product } = props;\r\n\r\n  return(\r\n    <li className=\"search-result\">\r\n      <Link to={{\r\n        pathname: `/product=${product.id}`,\r\n        state: { background: location }\r\n      }}>\r\n        <img src={ product.images[0].src }/>\r\n        <div className=\"search-result_info\">\r\n          <h2 className=\"search-result_info_title\">{ product.name }</h2>\r\n          <span className=\"search-result_info_brand\"><span>Бренд: </span>{ returnBrand(product.attributes) }</span>\r\n          <span className=\"search-result_info_stock\"><span>В наличии: </span>{ product.stock_quantity }</span>\r\n          <span className=\"search-result_info_price\"><span>Цена: </span>{ product.price }</span>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Search from '../ui/search.component.js';\r\n\r\nimport logo from '../../assets/images/logo.svg';\r\n\r\nexport default class Header extends Component{\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if( prevState.activeMenu === this.state.activeMenu && prevState.activeMenu === 1 ){\r\n      this.openCatalog();\r\n    }\r\n  }\r\n\r\n  state = {\r\n    activeMenu: 0,\r\n  }\r\n\r\n  openCatalog = () => {\r\n    let menu = document.getElementById('menu');\r\n    let menu_state = this.state.activeMenu;\r\n\r\n    if ( !menu_state ) {\r\n      menu.classList.add('active-menu');\r\n      this.setState({ activeMenu: 1 });\r\n    }else{\r\n      menu.classList.remove('active-menu');\r\n      this.setState({ activeMenu: 0 });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <header id=\"header\" className=\"header\">\r\n        <Link to=\"/\" className=\"header_logo-wrapper\">\r\n          <img src={logo}/>\r\n        </Link>\r\n        <button onClick={ this.openCatalog } className=\"header_menu-button\">\r\n          Каталог\r\n        </button>\r\n        <Search live={false} className=\"header_search\" placeholder=\"Поиск\" history={ this.props.history }/>\r\n        <nav className=\"header_navigation\">\r\n          <Link to=\"/\">Скидки</Link>\r\n          <Link to=\"/\">Отмеченные</Link>\r\n          <Link to=\"/\">Корзина</Link>\r\n        </nav>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Tabs extends Component {\r\n\r\n  state = {\r\n    tab: 0,\r\n    changing: 0\r\n  }\r\n\r\n  changeTab = e => {\r\n    let tab = parseInt(e.currentTarget.dataset.tab);\r\n\r\n    this.setState({ changing: 1 });\r\n    setTimeout( () => {\r\n      this.setState({ tab });\r\n      this.setState({ changing: 0 });\r\n    }, 300 );\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      className,\r\n      content\r\n    } = this.props;\r\n\r\n    return(\r\n      <div className={ this.props.className }>\r\n        <div className={ this.props.className + \"_controls\" }>\r\n          {\r\n            content.map((item, i) =>\r\n              <button\r\n              data-tab={ i }\r\n              key={ i }\r\n              onClick={ this.changeTab }\r\n              className={ this.state.tab === i ? \"active-tab\" : null }\r\n              >\r\n                { item.title }\r\n              </button>\r\n            )\r\n          }\r\n        </div>\r\n        <div\r\n        className={ this.props.className + \"_content custom-scrollbar\" }\r\n        style={{\r\n          opacity: this.state.changing ? 0 : 1,\r\n          transition: \"opacity 0.3s\"\r\n        }}>\r\n          { content[this.state.tab].content  }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport function LabeledCheckbox(props) {\r\n  return(\r\n    <label className=\"labeled-checkbox\">\r\n      <input data-filter={ props.dataFilter } type=\"checkbox\" name={ props.name } value={ props.value }/>\r\n      <span className=\"labeled-checkbox_label\">{ props.label }</span>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport function ColorCheckbox(props) {\r\n  return(\r\n    <label title={ props.title } className=\"color-checkbox\">\r\n      <input data-filter=\"color\" name={ props.name } value={ props.value } type=\"checkbox\"/>\r\n      <span>\r\n        <i style={{ backgroundColor: props.color }}/>\r\n      </span>\r\n    </label>\r\n  );\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Tabs from 'components/ui/tabs.component';\r\nimport { LabeledCheckbox, ColorCheckbox } from 'components/catalogue/checkboxes.component';\r\n\r\nexport default class Menu extends Component {\r\n\r\n  render() {\r\n    return(\r\n      <div id=\"menu\">\r\n        <Tabs\r\n          className=\"menu_tabs\"\r\n          content={[\r\n            {\r\n              title: 'По фильтрам',\r\n              content: <MenuFilters history={ this.props.history }/>\r\n            },\r\n            {\r\n              title: 'По категориям',\r\n              content: <MenuCategories/>\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass MenuFilters extends Component{\r\n\r\n  componentDidMount() {\r\n    let fields = document.getElementById('filters-form').getElementsByTagName('input');\r\n    this.setState({ fields });\r\n  }\r\n\r\n  state = {\r\n    filters: {},\r\n    fields: []\r\n  }\r\n\r\n  resetFilters = e => {\r\n    e.preventDefault();\r\n    for( let field of this.state.fields ){\r\n      field.type === 'checkbox' ?\r\n      field.checked = false : field.value = '';\r\n    }\r\n  }\r\n\r\n  submitSearch = e => {\r\n    e.preventDefault();\r\n\r\n    let query_params = '';\r\n    let filters = {};\r\n\r\n    Array.from(this.state.fields).forEach(field => {\r\n      if(\r\n        (field.type === 'checkbox' &&\r\n        field.checked) ||\r\n        (field.type === 'text' &&\r\n        field.value)\r\n      ){\r\n        filters[field.dataset.filter] =\r\n        filters[field.dataset.filter] ?\r\n        filters[field.dataset.filter] : new Array();\r\n\r\n        filters[field.dataset.filter].push([field.value]);\r\n      }\r\n    });\r\n\r\n    //Set parameters for material;\r\n    if( filters.material ){\r\n      query_params = query_params + '&material=';\r\n      filters.material.forEach( (material, i) => {\r\n        query_params = i ?\r\n        query_params + `,${material}` : query_params + material;\r\n      });\r\n    }\r\n\r\n    //Set parameters for color;\r\n    if( filters.color ){\r\n      query_params = query_params + '&color=';\r\n      filters.color.forEach( (color, i) => {\r\n        query_params = i ?\r\n        query_params + `,${color}` : query_params + color;\r\n      });\r\n    }\r\n\r\n    //Set parameters for age and sex;\r\n    if( filters.person ){\r\n      query_params = query_params + '&person=';\r\n      filters.person.forEach( (person, i) => {\r\n        query_params = i ?\r\n        query_params + `,${person}` : query_params + person;\r\n      });\r\n    }\r\n\r\n    //Set parameters for brand;\r\n    if( filters.brand ){\r\n      query_params = query_params + '&brand=';\r\n      filters.brand.forEach( (brand, i) => {\r\n        query_params = i ?\r\n        query_params + `,${brand}` : query_params + brand;\r\n      });\r\n    }\r\n\r\n    //Set parameters for category;\r\n    if( filters.cat ){\r\n      query_params = query_params + '&cat=';\r\n      filters.cat.forEach( (cat, i) => {\r\n        query_params = i ?\r\n        query_params + `,${cat}` : query_params + cat;\r\n      });\r\n    }\r\n\r\n    //Set parameters for min-max price;\r\n    if( filters.min_price ){\r\n      query_params = query_params + `&min_price=${filters.min_price}`;\r\n    }\r\n    if( filters.max_price ){\r\n      query_params = query_params + `&max_price=${filters.max_price}`;\r\n    }\r\n\r\n    //Set parameters for min-max stock;\r\n    if( filters.min_stock ){\r\n      query_params = query_params + `&min_stock=${filters.min_stock}`;\r\n    }\r\n    if( filters.max_stock ){\r\n      query_params = query_params + `&max_stock=${filters.max_stock}`;\r\n    }\r\n\r\n    this.props.history.push(`/search?${query_params}`);\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <Fragment>\r\n        <div className=\"menu_tabs_content_annotation\">\r\n          <p>Просто отметьте все интересующие вас параметры и мы составим для вас оптимальный список товаров</p>\r\n        </div>\r\n        <div id=\"filters\" className=\"menu_tabs_content_filters\">\r\n          <form id=\"filters-form\" className=\"menu_tabs_content_filters_form\">\r\n\r\n            <div className=\"menu_tabs_content_filters_form_left-column\">\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Основные фильтры</legend>\r\n                <LabeledCheckbox label=\"Хит продаж\" value=\"sales\" />\r\n                <LabeledCheckbox label=\"Новое поступление\" value=\"date\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Пол и возраст</legend>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"male\" label=\"Мужчинам\"/>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"female\" label=\"Женщинам\"/>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"boys\" label=\"Мальчикам\"/>\r\n                <LabeledCheckbox dataFilter=\"person\" value=\"girls\" label=\"Девочкам\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Материал</legend>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"leather\" label=\"Кожа\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"ecoleather\" label=\"Экокожа\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"vinyl\" label=\"ПВХ\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"suede\" label=\"Замша\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"metal\" label=\"Металл\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"wood\" label=\"Дерево\"/>\r\n                <LabeledCheckbox dataFilter=\"material\" value=\"plastic\" label=\"Пластик\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Бренд</legend>\r\n                <LabeledCheckbox dataFilter=\"brand\" value=\"matoone\" label=\"Matoone\"/>\r\n                <LabeledCheckbox dataFilter=\"brand\" value=\"fashion\" label=\"Модные бренды одежды\"/>\r\n                <LabeledCheckbox dataFilter=\"brand\" value=\"carbrand\" label=\"Автомобильные бренды\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Цвет</legend>\r\n                <ColorCheckbox title=\"Белый\" value=\"white\" color=\"#FFF\"/>\r\n                <ColorCheckbox title=\"Голубой\" value=\"white_blue\" color=\"#7787FF\"/>\r\n                <ColorCheckbox title=\"Черный\" value=\"black\" color=\"#000\"/>\r\n                <ColorCheckbox title=\"Красный\" value=\"red\" color=\"#F23939\"/>\r\n                <ColorCheckbox title=\"Белый\" value=\"white\" color=\"#FFF\"/>\r\n                <ColorCheckbox title=\"Голубой\" value=\"white_blue\" color=\"#7787FF\"/>\r\n                <ColorCheckbox title=\"Черный\" value=\"black\" color=\"#000\"/>\r\n                <ColorCheckbox title=\"Красный\" value=\"red\" color=\"#F23939\"/>\r\n                <ColorCheckbox title=\"Белый\" value=\"white\" color=\"#FFF\"/>\r\n                <ColorCheckbox title=\"Голубой\" value=\"white_blue\" color=\"#7787FF\"/>\r\n              </div>\r\n\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Цена (руб.)</legend>\r\n                <input type=\"number\" data-filter=\"min_price\" name=\"min_price\" placeholder=\"От\"/>\r\n                <input type=\"number\" data-filter=\"max_price\" name=\"max_price\" placeholder=\"До\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>В наличии (шт)</legend>\r\n                <input type=\"number\" data-filter=\"min_stock\" name=\"min_stock\" placeholder=\"От\"/>\r\n                <input type=\"number\" data-filter=\"max_stock\" name=\"max_stock\" placeholder=\"До\"/>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"menu_tabs_content_filters_form_right-column\">\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Деньги, карты и ключи</legend>\r\n                <LabeledCheckbox label=\"Кошельки\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Обложки для</legend>\r\n                <LabeledCheckbox label=\"Паспорта\"/>\r\n              </div>\r\n              <div className=\"menu_tabs_content_filters_form_fieldset\">\r\n                <legend>Рюкзаки и сумки</legend>\r\n                <LabeledCheckbox label=\"Рюкзаки\"/>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"menu_tabs_content_filters_form_controls\">\r\n              <button onClick={ this.submitSearch } id=\"submit_search\" className=\"proxima-18\">Поиск</button>\r\n              <button onClick={ this.resetFilters } id=\"reset_filters\" className=\"proxima-18\">Сбросить</button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nclass MenuCategories extends Component {\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if( prevState.selected !== this.state.selected ){\r\n      this.fetchCategories(this.state.selected);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchCategories();\r\n  }\r\n\r\n  state = {\r\n    cats: null,\r\n    subcats: null,\r\n    selected: []\r\n  }\r\n\r\n  fetchCategories = ( id ) => {\r\n    let url =\r\n    `http://localhost/wp-json/product-fetcher/v1/categories/?parent_id=${id ? id : 0}`;\r\n\r\n    fetch( url, {\r\n      method: 'get',\r\n      mode: 'cors',\r\n    })\r\n    .then( response => response.json() )\r\n    .then( response => { id ? this.setState({ subcats: response }) : this.setState({ cats: response }) } )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n  selectCategroy = (id) => {\r\n    this.setState({selected:id});\r\n  }\r\n\r\n  render() {\r\n\r\n    const { selected, cats, subcats } = this.state;\r\n\r\n    return(\r\n      <Fragment>\r\n        <div className=\"menu_tabs_content_annotation\">\r\n          <p>\r\n            Просто отметьте все интересующие\r\n             вас параметры и мы составим для\r\n              вас оптимальный список товаров\r\n          </p>\r\n        </div>\r\n        <div className=\"menu_tabs_content_categories\">\r\n          <ul>\r\n            {\r\n              cats && Array.isArray(cats) ?\r\n              cats.map(\r\n                (cat, i) =>\r\n                <li\r\n                  onClick={ () => this.selectCategroy( cat.id ) }\r\n                  className={ selected === cat.id ? 'active-category' : null }\r\n                >\r\n                  { cat.name }\r\n                </li>\r\n              ) : null\r\n            }\r\n          </ul>\r\n          <ul>\r\n            {\r\n              subcats && Array.isArray(subcats) ?\r\n              subcats.map(\r\n                (subcat, i) =>\r\n                <li>\r\n                  <Link to={`/category=${subcat.id}`}>{ subcat.name }</Link>\r\n                </li>\r\n              ) : null\r\n            }\r\n          </ul>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class SearchBar extends Component{\r\n  render() {\r\n    return(\r\n      <div className={(\"categories \") + this.props.className}>\r\n        <nav>\r\n          <ul>\r\n            <li><Link to=\"/\">Каталог</Link></li>\r\n            <li><Link to=\"/category=37\">Рюкзаки</Link></li>\r\n            <li><Link to=\"/category=22\">Сумки</Link></li>\r\n            <li><Link to=\"/category=37\">Рюкзаки</Link></li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport HtmlParser from 'react-html-parser';\r\n\r\nexport default class LinkButton extends Component{\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if( this.state.posts && prevState.posts !== this.state.posts ){\r\n      this.makeClones();\r\n      this.state.slideCount = this.state.posts.length;\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPosts();\r\n  }\r\n\r\n  state = {\r\n    posts: null,\r\n    slideCount: 0,\r\n    activeSlide: 0\r\n  }\r\n\r\n  fetchPosts = () => {\r\n    let url = `http://localhost/wp-json/wp/v2/posts?_embed&categories=${this.props.postsCat}`;\r\n\r\n    fetch(url, {\r\n      method: 'get',\r\n      mode: 'cors'\r\n    }).\r\n    then(res => res.json()).\r\n    then(res => this.setState({posts: res})).\r\n    catch(err => console.log(err));\r\n  }\r\n\r\n  makeClones = () => {\r\n    let container = document.getElementById(`${this.props.id}_slides`);\r\n    let slides = container.childNodes;\r\n    let firstClone = document.createElement('div');\r\n        firstClone.classList.add('slide', 'slide-0-clone');\r\n        firstClone.innerHTML = slides[0].innerHTML;\r\n\r\n    let lastClone = document.createElement('div');\r\n        lastClone.classList.add('slide', `slide-${slides.length - 1}-clone`);\r\n        lastClone.innerHTML = slides[slides.length - 1].innerHTML;\r\n\r\n    container.insertBefore(lastClone, slides[0]);\r\n    container.appendChild(firstClone, slides[slides.length - 1]);\r\n  }\r\n\r\n  changeSlide = (e) => {\r\n    let goToSlide = parseInt(e.currentTarget.dataset.slide);\r\n\r\n    if( goToSlide > -1 && goToSlide < this.state.slideCount ){\r\n      document.getElementById(this.props.id).style.setProperty('--slide', goToSlide + 1 );\r\n      this.setState({ changing: true });\r\n      this.setState({ activeSlide: goToSlide });\r\n    }\r\n    else if( goToSlide < 0 ){\r\n      document.getElementById(this.props.id).style.setProperty('--slide', goToSlide + 1 );\r\n      this.setState({ changing: true });\r\n      this.setState({ activeSlide: this.state.slideCount - 1 });\r\n      setTimeout(() => {\r\n        this.setState({ changing: false });\r\n        document.getElementById(this.props.id).style.setProperty('--slide', this.state.slideCount );\r\n      }, 300);\r\n    }\r\n    else if( goToSlide > this.state.slideCount - 1 ){\r\n      document.getElementById(this.props.id).style.setProperty('--slide', goToSlide + 1 );\r\n      this.setState({ changing: true });\r\n      this.setState({ activeSlide: 0 });\r\n      setTimeout(() => {\r\n        this.setState({ changing: false });\r\n        document.getElementById(this.props.id).style.setProperty('--slide', 1 );\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  render() {\r\n\r\n    const {\r\n      posts,\r\n      slideCount,\r\n      activeSlide,\r\n      changing\r\n    } = this.state;\r\n\r\n    return(\r\n      <div id={ this.props.id } className=\"slider\" style={{height: this.props.height}}>\r\n        <div\r\n          id={ `${this.props.id}_slides` }\r\n          className={`slider_slides ${ changing ? 'changing' : null }`}>\r\n          {\r\n            posts ? posts.map((post, i) => <Slide post={post} i={i}/>) : null\r\n          }\r\n        </div>\r\n        <div className=\"slider_controls\">\r\n          <i\r\n            style={{ transform: `translateX(calc(1.04167vw * ${activeSlide}))` }}\r\n            className=\"slider_controls_indicator\"\r\n          />\r\n          <button\r\n            onClick={ this.changeSlide }\r\n            data-slide={ activeSlide - 1 }\r\n            className=\"slider_controls_prev-slide\"\r\n          />\r\n          {\r\n            posts ? posts.map( (post, i) =>\r\n            <button key={i} data-slide={i} className=\"slider_controls_go-to-slide\"/> ) : null\r\n          }\r\n          <button\r\n            onClick={ this.changeSlide }\r\n            data-slide={ activeSlide + 1 }\r\n            className=\"slider_controls_next-slide\"\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction Slide(props) {\r\n  const {post} = props;\r\n  return(\r\n    <div className={`slide slide-${props.i}`}>\r\n      <img src={post._embedded['wp:featuredmedia'][0].source_url}/>\r\n      <div className=\"slide_text-container\">\r\n        <h2 className=\"slide_text-container_title\">{ post.title.rendered }</h2>\r\n        <p className=\"slide_text-container_content\">\r\n          { HtmlParser(post.content.rendered.replace(/<p>|\\<\\/p>/gi, '')) }\r\n        </p>\r\n        <Link to={post.link_url} className=\"slide_text-container_link\">\r\n          {post.link_text}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default function Post(props) {\r\n\r\n  const {\r\n    className,\r\n    post\r\n  } = props;\r\n\r\n  return(\r\n    <div\r\n      style={{ backgroundImage: `url(${post._embedded['wp:featuredmedia'][0].source_url})` }}\r\n      className={ `post ${post._embedded['wp:term'][0][0].name}` }\r\n    >\r\n\r\n      <h2 className=\"post_title\">\r\n        { post.title['rendered'] }\r\n      </h2>\r\n      <p className=\"post_content\">\r\n        { ReactHtmlParser(post.content['rendered']) }\r\n      </p>\r\n      <Link to={ post.link_url } className=\"post_link\">\r\n        { post.link_text }\r\n      </Link>\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport Search from 'components/ui/search.component.js';\r\nimport Categories from 'components/home/categories.component.js';\r\nimport Slider from 'components/ui/slider.component.js';\r\nimport Post from 'components/home/post.component.js';\r\n\r\nexport default class Home extends Component{\r\n\r\n  componentDidMount() {\r\n    this.getPosts();\r\n    this.calculateVh();\r\n  }\r\n\r\n  calculateVh = () => {\r\n    let vh = document.documentElement.clientHeight / 100;\r\n    document.getElementById('top-container').style.setProperty('--vh', `${vh}px`);\r\n  }\r\n\r\n  getPosts = () => {\r\n    let url = 'http://localhost/wp-json/wp/v2/posts?_embed&filter[orderby]=date&order=desc&categories=5,6,7';\r\n    fetch(url, {\r\n        method: 'GET',\r\n        mode: 'cors'\r\n    })\r\n    .then( response => response.json() )\r\n    .then( response => {\r\n      this.setState({posts: response})\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error)\r\n    });\r\n  }\r\n\r\n  state = {\r\n    posts: null,\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      posts\r\n    } = this.state;\r\n\r\n    return(\r\n      <main id=\"content\" className=\"home-page\">\r\n        <div id=\"top-container\">\r\n          <h1 className=\"montserrat-80 m-montserrat-30\">Go to store</h1>\r\n          <p className=\"proxima-18 m-proxima-12\">\r\n            Добро пожаловать на оптовый магазин нового уровня,\r\n            Заходите, смотрите и покупайте\r\n          </p>\r\n          <Search\r\n            live={true}\r\n            placeholder=\"Например: кожаный чехол для iPhone 11\"\r\n            className=\"home-search\"\r\n            history={ this.props.history }\r\n          />\r\n          <Categories/>\r\n          <Slider postsCat=\"38\" id=\"slider-home-page\"/>\r\n        </div>\r\n        <div id=\"posts-container\">\r\n          {\r\n            posts ? posts.map((post) => <Post post={post}/> ) : null\r\n          }\r\n        </div>\r\n      </main>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport function VKShareButton(props) {\r\n  return(\r\n    <a\r\n      className=\"vk-share-button\"\r\n      href={`https://vk.com/share.php?url=${props.link}`}\r\n      target=\"_blank\"\r\n    >\r\n    </a>\r\n  );\r\n}\r\n\r\nexport function FBShareButton(props) {\r\n  return(\r\n    <a\r\n      className=\"fb-share-button\"\r\n      href={`https://www.facebook.com/sharer/sharer.php?u=${props.link}`}\r\n      target=\"_blank\"\r\n    >\r\n    </a>\r\n  );\r\n}\r\n\r\nexport function FavButton(props) {\r\n  return(\r\n    <button\r\n      className=\"add-to-fav-button\"\r\n    >\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport Tabs from '../ui/tabs.component';\r\nimport { VKShareButton, FBShareButton, FavButton } from 'components/ui/share-buttons.component';\r\n\r\nexport function ProductItemList(props) {\r\n\r\n  const { url } = useRouteMatch();\r\n\r\n  function composeAttributes( attributes ) {\r\n    return <ul className=\"catalog-item_content_info-tabs_content_attributes\">\r\n             {\r\n              attributes.map( attribute => {\r\n               if ( attribute.name !== \"бренд\" && attribute.slug !== \"pa_color\" )\r\n               return <li>\r\n                       <span>\r\n                         { attribute.name.charAt(0).toUpperCase() + attribute.name.replace(/-/g, \" \").slice(1) }\r\n                       </span>\r\n                       <hr/>\r\n                       <span>{ attribute.options.map( (option, i) => option + (attribute.options.length > 1 ? '; ' : '') ) }</span>\r\n                     </li>\r\n               }\r\n              )\r\n            }\r\n           </ul>\r\n  }\r\n\r\n  function composeComments( comments ) {\r\n    return <ul className=\"catalog-item_content_info-tabs_content_comments\">\r\n             {\r\n               comments.map( comment =>\r\n                 <li>\r\n                   <img className=\"product-comment_author-avatar\" src={ comment.author_avatar }/>\r\n                   <p className=\"product-comment_author-name\">{ comment.author_name }</p>\r\n                   <p className=\"product-comment_comment-content\">{ comment.comment_content }</p>\r\n                 </li>\r\n               )\r\n             }\r\n           </ul>\r\n  }\r\n\r\n  function composeColors( variations, attributes ) {\r\n    return variations.map( variation => {\r\n          let color =\r\n          attributes.find( x => x.slug === 'pa_color' ).options.find( x => x.slug === variation.attributes[0].option ).description;\r\n          return <li style={{backgroundColor: color}}></li>;\r\n      })\r\n  }\r\n\r\n  function returnBrand ( attributes ) {\r\n    let brand = attributes.find( attribute => attribute.name === 'бренд');\r\n    return brand ? brand.options[0] : null;\r\n  }\r\n\r\n  function generateLink(id) {\r\n    let link = `http://localhost:3000/product=${id}`;\r\n    return link;\r\n  }\r\n\r\n  const {\r\n    id,\r\n    title,\r\n    sku,\r\n    description,\r\n    price,\r\n    thumb,\r\n    attributes,\r\n    stock,\r\n    comments,\r\n    variations\r\n  } = props;\r\n\r\n  return(\r\n    <div className=\"catalog-item\">\r\n      <div className=\"catalog-item_share\">\r\n        <VKShareButton link={ generateLink(id) }/>\r\n        <FBShareButton link={ generateLink(id) }/>\r\n        <FavButton/>\r\n      </div>\r\n\r\n      <div className=\"catalog-item_image-wrapper\">\r\n        <img src={ thumb } />\r\n      </div>\r\n      <div className=\"catalog-item_content\">\r\n        <h2><Link to={ `/product=${id}` }>{ title }</Link></h2>\r\n        <span className=\"catalog-item_content_sku\"><span>Арт: </span>{ sku }</span>\r\n        <span className=\"catalog-item_content_brand\">\r\n          <span>Бренд: </span>\r\n          { returnBrand(attributes) }\r\n        </span>\r\n\r\n        <Tabs\r\n        className=\"catalog-item_content_info-tabs\"\r\n        content={[\r\n          {\r\n            title: \"Описание\",\r\n            content:\r\n            <div className=\"catalog-item_content_info-tabs_content_description\">\r\n              {ReactHtmlParser(description)}\r\n            </div>\r\n          },\r\n          {\r\n            title: \"Характеристики\",\r\n            content: composeAttributes(attributes)\r\n          },\r\n          {\r\n            title: \"Отзывы\",\r\n            content: composeComments(comments)\r\n          }\r\n        ]}\r\n        />\r\n\r\n        <ul className=\"catalog-item_content_colors\">\r\n          { composeColors(variations, attributes) }\r\n        </ul>\r\n\r\n        <span className=\"catalog-item_content_stock\">\r\n          <span>В наличии: </span>\r\n          { stock ? stock : 0 }шт.\r\n        </span>\r\n\r\n        <div className=\"catalog-item_content_buy\">\r\n          <input type=\"number\" placeholder=\"1 шт.\"/>\r\n          <button>Купить</button>\r\n        </div>\r\n        <div className=\"catalog-item_content_price\">\r\n          <p>{ price }Р</p>\r\n          <span>Выше опт — ниже цена</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ProductItemGrid(props) {\r\n\r\n  const { url } = useRouteMatch();\r\n\r\n  function generateLink(id) {\r\n    let link = `http://localhost:3000/product=${id}`;\r\n    return link;\r\n  }\r\n\r\n  const {\r\n    id,\r\n    title,\r\n    description,\r\n    stock,\r\n    price,\r\n    thumb,\r\n    layout\r\n  } = props;\r\n\r\n  return(\r\n    <div className=\"catalog-item product-item\">\r\n      <img src={ thumb } />\r\n\r\n      <div className=\"product-item_share\">\r\n        <VKShareButton link={ generateLink(id) }/>\r\n        <FBShareButton link={ generateLink(id) }/>\r\n        <FavButton/>\r\n      </div>\r\n\r\n      <div className=\"product-item_info\">\r\n        <div className=\"product-item_info_preview\">\r\n          <h2>{ title }</h2>\r\n          <span>{\"До \" + price } руб.</span>\r\n        </div>\r\n\r\n        <p className=\"product-item_info_desc\">\r\n          { ReactHtmlParser(description) }\r\n        </p>\r\n\r\n        <span className=\"product-item_info_stock\">\r\n          <span>В наличии:</span>\r\n          { stock }\r\n        </span>\r\n\r\n        <div className=\"product-item_info_price-and-link proxima-18\">\r\n          <span>{ price + \"Р\"}</span>\r\n          <Link to={ `/product=${id}` }>Подробнее</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { LabeledCheckbox, ColorCheckbox } from './checkboxes.component';\r\n\r\nexport default function Filters(props) {\r\n\r\n  function resetFilters(e) {\r\n    e.preventDefault();\r\n\r\n    let form = document.getElementsByClassName('catalog-container_filters_form')[0];\r\n    let inputs = form.getElementsByTagName('input');\r\n\r\n    for ( let input  of inputs){\r\n      input.type === 'checkbox' ?\r\n      (input.checked = false) : (input.value = null);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className={ \"catalog-container_filters\" + \" \" + props.className }>\r\n      <form onSubmit={ e => props.applyFilters(e) } className=\"catalog-container_filters_form\">\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Основные фильтры</legend>\r\n          <LabeledCheckbox label=\"хит продаж\"/>\r\n          <LabeledCheckbox label=\"хит продаж\"/>\r\n          <LabeledCheckbox label=\"хит продаж\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Пол и возраст</legend>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"male\" label=\"Мужчинам\"/>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"female\" label=\"Женщинам\"/>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"boys\" label=\"Мальчикам\"/>\r\n          <LabeledCheckbox dataFilter=\"person\" value=\"girls\" label=\"Девочкам\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Материал</legend>\r\n          <LabeledCheckbox dataFilter=\"material\" value=\"leather\" label=\"кожа\"/>\r\n          <LabeledCheckbox dataFilter=\"material\" value=\"metal\" label=\"метал\"/>\r\n          <LabeledCheckbox dataFilter=\"material\" value=\"vinyl\" label=\"ПВХ\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Бренд</legend>\r\n          <LabeledCheckbox label=\"Nike\"/>\r\n          <LabeledCheckbox label=\"UniQlo\"/>\r\n          <LabeledCheckbox label=\"Stripes\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Цвет</legend>\r\n          <ColorCheckbox color=\"#FFF\"/>\r\n          <ColorCheckbox color=\"lightgray\"/>\r\n          <ColorCheckbox color=\"black\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>Цена (руб.)</legend>\r\n          <input type=\"number\" data-filter=\"min_price\" placeholder=\"От\"/>\r\n          <input type=\"number\" data-filter=\"max_price\" placeholder=\"До\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_fieldset\">\r\n          <legend>В наличии (шт)</legend>\r\n          <input type=\"number\" placeholder=\"От\"/>\r\n          <input type=\"number\" placeholder=\"До\"/>\r\n        </div>\r\n\r\n        <div className=\"catalog-container_filters_form_controls\">\r\n          <button>Применить</button>\r\n          <button onClick={ e => resetFilters(e) }>Сбросить</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Loading() {\r\n  return(\r\n    <div className=\"loading\">\r\n      <div className=\"loading_inner-circle_0\">\r\n        <div className=\"loading_inner-circle_1\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { ProductItemList, ProductItemGrid } from './product_item.component';\r\nimport Filters from './filters.component';\r\nimport Loading from 'components/ui/loading.component';\r\n\r\nexport default class Products extends Component{\r\n\r\n  componentDidMount() {\r\n    this.composeQuery();\r\n    console.log(this.state.query)\r\n  }\r\n\r\n  componentDidUpdate( prevProps ,prevState ) {\r\n    if ( prevState.query !== this.state.query ){\r\n      this.fetchProducts();\r\n    }\r\n  }\r\n\r\n  state = {\r\n    query: {},\r\n    items: [],\r\n    layout: 'grid-0',\r\n    activeFilters: true\r\n  }\r\n\r\n  fetchProducts = () => {\r\n    let url =\r\n    `http://localhost/wp-json/product-fetcher/v1/search/?`;\r\n\r\n    Object.keys(this.state.query).forEach( key => {\r\n      url = url + '&' + key + '=' + this.state.query[key];\r\n    });\r\n\r\n    fetch( url, {\r\n      method: 'get',\r\n      mode: 'cors',\r\n    })\r\n    .then( response => response.json() )\r\n    .then( response => this.setState({ products: response }) )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n  composeQuery = () => {\r\n    let params = this.props.location.search.replace('?', '').split('&');\r\n    let query = [];\r\n\r\n    params.forEach( param => {\r\n      let name = param.split('=')[0];\r\n      let value = param.split('=')[1];\r\n      query[name] = value;\r\n    });\r\n\r\n    if( !query['cat'] && this.props.match.params.cat_id ){\r\n      query['cat'] = this.props.match.params.cat_id;\r\n    }\r\n\r\n    if( !query['orderby'] && !query['order']){\r\n      query['orderby'] = 'total_sales';\r\n      query['order'] = 'DESC';\r\n    }\r\n\r\n    this.setState(\r\n      state => {\r\n        return {\r\n          query,\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  changeOrder = e => {\r\n    let orderby = e.currentTarget.dataset.orderby;\r\n    let order = e.currentTarget.dataset.order;\r\n    let on_sale = e.currentTarget.dataset.onsale;\r\n\r\n    this.setState(\r\n      state => {\r\n        let query = Object.assign({}, state.query);\r\n        query.orderby = orderby;\r\n        query.order = order;\r\n        query.on_sale = on_sale ? on_sale : null;\r\n\r\n        return {\r\n          query,\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  changeLayout = e => {\r\n    let layout = e.currentTarget.type === 'range' ?\r\n    ('grid-' + e.currentTarget.value) : e.currentTarget.value;\r\n    this.setState({ layout });\r\n  }\r\n\r\n  applyFilters = e => {\r\n    e.preventDefault();\r\n\r\n    let form = document.getElementsByClassName('catalog-container_filters_form')[0];\r\n    let inputs = form.getElementsByTagName('input');\r\n    let applied_filters = {};\r\n\r\n    for ( let input of inputs ){\r\n      if(\r\n        (input.type === 'checkbox' &&\r\n        input.checked) ||\r\n        (input.type === 'number' &&\r\n        input.value)\r\n      ){\r\n        applied_filters[input.dataset.filter] =\r\n        applied_filters[input.dataset.filter] ?\r\n        applied_filters[input.dataset.filter] : new Array();\r\n\r\n        applied_filters[input.dataset.filter].push(input.value);\r\n      }\r\n    }\r\n\r\n    let new_query = [];\r\n\r\n    for ( let [key, value] of Object.entries( applied_filters ) ){\r\n      let parameter;\r\n      value.forEach((option, i) => {\r\n        parameter = i ? parameter + `,${option}` : option;\r\n      });\r\n      new_query[key] = parameter;\r\n    }\r\n\r\n    this.setState(\r\n      state => {\r\n        let query = Object.assign({}, state.query);\r\n        let query_params = [\r\n          'color',\r\n          'material',\r\n          'person',\r\n          'brand',\r\n          'max_price',\r\n          'min_price',\r\n          'max_stock',\r\n          'min_stock'\r\n        ];\r\n\r\n        query_params.forEach( param => {\r\n           new_query[param] ? (query[param] = new_query[param]) : (delete query[param]);\r\n        });\r\n\r\n        return {\r\n          query,\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      products,\r\n      layout,\r\n      activeFilters,\r\n      query\r\n    } = this.state;\r\n\r\n    return(\r\n        <section>\r\n          <div>\r\n            <h2></h2>\r\n          </div>\r\n          <div className=\"catalog-container\">\r\n            <CatalogControls\r\n             activeOrder={\r\n               this.state.query.on_sale ? 'on_sale' : this.state.query.orderby + '_' + this.state.query.order\r\n             }\r\n             activeLayout={\r\n               this.state.layout\r\n             }\r\n             changeOrder={ this.changeOrder }\r\n             changeLayout={ this.changeLayout }\r\n            />\r\n\r\n            { activeFilters ? <Filters applyFilters={ this.applyFilters } className={ layout }/> : null }\r\n\r\n            <div\r\n              id=\"catalog-items-container\"\r\n              className={ layout + \" \" + (activeFilters ? \"active-filters\" : null) }\r\n            >\r\n              { (Array.isArray( this.state.products )) ? layout !== 'list' ?\r\n                products.map( (product, i) =>\r\n                  <ProductItemGrid\r\n                    id={product.id}\r\n                    title={product.name}\r\n                    description={product.short_description}\r\n                    stock={product.stock_quantity}\r\n                    price={product.price}\r\n                    thumb={product.images[0].src}\r\n                    layout={layout}\r\n                  />\r\n                ) :\r\n                products.map( (product, i) =>\r\n                  <ProductItemList\r\n                    id={product.id}\r\n                    title={product.name}\r\n                    sku={product.sku}\r\n                    description={product.description}\r\n                    price={product.price}\r\n                    thumb={product.images[0].src}\r\n                    attributes={product.attributes}\r\n                    stock={product.stock_quantity}\r\n                    comments={product.comments}\r\n                    variations={product.variations}\r\n                  />\r\n                ) : <Loading/>}\r\n            </div>\r\n          </div>\r\n        </section>\r\n    )\r\n  }\r\n}\r\n\r\nclass CatalogControls extends Component {\r\n  render() {\r\n\r\n    const {\r\n      activeOrder,\r\n      activeLayout\r\n    } = this.props;\r\n\r\n    return(\r\n      <div className=\"catalog-controls\">\r\n        <div className=\"catalog-controls_change-order\">\r\n          <span>Сначала</span>\r\n          <div>\r\n            <button onClick={ this.props.changeOrder }\r\n             data-orderby=\"total_sales\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"total_sales_DESC\" ? \"active-order\" : null }\r\n            >\r\n              Популярные\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-orderby=\"date\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"date_DESC\" ? \"active-order\" : null }\r\n            >\r\n              Новые\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-orderby=\"_price\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"_price_DESC\" ? \"active-order\" : null }\r\n            >\r\n              Дорогие\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-orderby=\"_price\"\r\n             data-order=\"ASC\"\r\n             className={ activeOrder === \"_price_ASC\" ? \"active-order\" : null }\r\n            >\r\n              Дешевые\r\n            </button>\r\n            <button\r\n             onClick={ this.props.changeOrder }\r\n             data-onsale=\"true\"\r\n             data-orderby=\"_price\"\r\n             data-order=\"DESC\"\r\n             className={ activeOrder === \"on_sale\" ? \"active-order\" : null }\r\n            >\r\n              Со скидкой\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"catalog-controls_change-layout\">\r\n          <span>Отображать</span>\r\n          <div>\r\n            <button onClick={ this.props.changeLayout } className={ activeLayout === 'list' ? 'active-layout' : null } value=\"list\">Списком</button>\r\n            <label className={ activeLayout.includes('grid') ? 'active-layout' : null }>\r\n              <span>Сеткой</span>\r\n              <input onClick={ this.props.changeLayout } type=\"range\" min=\"0\" max=\"2\" defaultValue=\"0\"/>\r\n              <div className=\"slider-marks\"><i/><i/><i/></div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\nimport Slider from 'components/ui/slider.component';\nimport Products from 'components/catalogue/products.component';\n\nexport default function SearchPage(props) {\n  return(\n    <main id=\"category\">\n      <Slider id=\"slider-search-page\" postsCat=\"38\"/>\n      <Products {...props}/>\n    </main>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Slider from 'components/ui/slider.component';\nimport Products from 'components/catalogue/products.component';\n\nexport default function CategoryPage(props) {\n\n  const [cat, setCat] = useState(null);\n\n  useEffect(() => {\n    if( !cat ) fetchCatData();\n  });\n\n  function fetchCatData() {\n    let url = `http://localhost/wp-json/product-fetcher/v1/categories/${props.match.params.cat_id}`;\n\n    fetch(url, {\n      method: 'get',\n      mode: 'cors'\n    }).\n    then(res => res.json()).\n    then(res => setCat(res)).\n    catch(err => console.log(err));\n  }\n\n  return(\n    <main id=\"category\">\n      <h1 id=\"title\">{ cat ? cat[0].name : null }</h1>\n      <Slider id=\"slider-category-page\" postsCat=\"38\"/>\n      <Products {...props}/>\n    </main>\n  );\n}\n","import React, { Component, Fragment, useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Tabs from 'components/ui/tabs.component';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport { VKShareButton, FBShareButton, FavButton } from 'components/ui/share-buttons.component';\r\nimport { ProductItemGrid } from 'components/catalogue/product_item.component';\r\nimport Loading from 'components/ui/loading.component';\r\n\r\nexport default class Product extends Component {\r\n\r\n  componentDidMount() {\r\n    this.fetchProductData();\r\n    console.log('THERE');\r\n    console.log(this.props.location);\r\n  }\r\n\r\n  state = {\r\n    product_id: this.props.match.params.product_id,\r\n    product_data: null,\r\n    currentVariation: 0,\r\n  }\r\n\r\n  fetchProductData = () => {\r\n    let url = `http://localhost/wp-json/product-fetcher/v1/products/${ this.state.product_id }`;\r\n\r\n    fetch( url, {\r\n      'method': 'get',\r\n      'mode': 'cors'\r\n    })\r\n    .then( res => res.json() )\r\n    .then( res => this.setState({ product_data: res }) )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n  changeVariation = (i) => {\r\n    this.setState({ currentVariation: i })\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      product_data,\r\n      currentVariation\r\n    } = this.state;\r\n    console.log(product_data)\r\n    let path = this.props.location.pathname;\r\n    let subcatLink = path.substring(0, path.lastIndexOf(\"/\"));\r\n    let catLink = subcatLink.substring(0, subcatLink.lastIndexOf(\"/\"));\r\n\r\n    return(\r\n      <main id=\"product\">\r\n        <section id=\"individual-product\">\r\n          <div id=\"individual-product_share\" className=\"individual-product_share\">\r\n            <VKShareButton link={ path }/>\r\n            <FBShareButton link={ path }/>\r\n            <FavButton/>\r\n          </div>\r\n          <Link id=\"individual-product_close\" to={subcatLink}></Link>\r\n          {\r\n            product_data ?\r\n            <Fragment>\r\n              <div id=\"product-container\" className=\"product\">\r\n                <ProductImages product={ product_data.variations[currentVariation] }/>\r\n                <ProductInfo product={ product_data }/>\r\n              </div>\r\n              <RelatedProducts products={ product_data.related }/>\r\n            </Fragment> :\r\n            <Loading/>\r\n          }\r\n        </section>\r\n\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nfunction ProductImages( props ) {\r\n\r\n  const { product } = props;\r\n\r\n  const [ currentImage, setCurrentImage] = useState(0);\r\n\r\n  function changeImage(i) {\r\n    setCurrentImage(i);\r\n  }\r\n\r\n  return(\r\n    <div className=\"product_images\">\r\n      <div className=\"product_images_selected-wrapper\">\r\n        <img src={ product.images[currentImage].src } />\r\n      </div>\r\n      <div className=\"product_images_selector\">\r\n        {\r\n          product.images.map(\r\n            (image, i) =>\r\n            <button\r\n             className={ currentImage === i ? 'active-image' : null }\r\n             onClick={ () => changeImage(i) }\r\n            >\r\n              <img src={ image.src }/>\r\n            </button>\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProductInfo(props) {\r\n\r\n  const { product } = props;\r\n\r\n  function composeAttributes( attributes ) {\r\n    return <ul id=\"test\" className=\"product_info_tabs_content_attributes\">\r\n             {\r\n              attributes.map( attribute => {\r\n               if ( attribute.name !== \"бренд\" && attribute.slug !== \"pa_color\" )\r\n               return <li>\r\n                       <span>\r\n                         { attribute.name.charAt(0).toUpperCase() + attribute.name.replace(/-/g, \" \").slice(1) }\r\n                       </span>\r\n                       <hr/>\r\n                       <span>{ attribute.options.map( (option, i) => option + (attribute.options.length > 1 ? '; ' : '') ) }</span>\r\n                     </li>\r\n               }\r\n              )\r\n            }\r\n           </ul>\r\n  }\r\n\r\n  function composeComments( comments ) {\r\n    return <ul className=\"product_info_tabs_content_comments custom-scrollbar\">\r\n             {\r\n               comments > 0 ?\r\n               comments.map( comment =>\r\n                 <li>\r\n                   <img className=\"product-comment_author-avatar\" src={ comment.author_avatar }/>\r\n                   <p className=\"product-comment_author-name\">{ comment.author_name }</p>\r\n                   <p className=\"product-comment_comment-content\">{ comment.comment_content }</p>\r\n                 </li>\r\n               )\r\n               :\r\n               <li>Отзывы о данном товаре отсутствуют.</li>\r\n             }\r\n           </ul>\r\n  }\r\n\r\n  function composeColors( variations, attributes ) {\r\n    return variations.map( variation => {\r\n          let color =\r\n          attributes.find( x => x.slug === 'pa_color' ).options.find( x => x.slug === variation.attributes[0].option ).description;\r\n          return <li style={{backgroundColor: color}}></li>;\r\n      })\r\n  }\r\n\r\n  function returnBrand ( attributes ) {\r\n    let brand = attributes.find( attribute => attribute.name === 'бренд');\r\n    return brand ? brand.options[0] : null;\r\n  }\r\n\r\n  return(\r\n    <div className=\"product_info\">\r\n    {console.log(product)}\r\n      <h2 className=\"product_info_title\">{ product.name }</h2>\r\n      <span className=\"product_info_sku\"><span>Арт: </span>{ product.sku }</span>\r\n      <span className=\"product_info_brand\">\r\n        <span>Бренд: </span>\r\n        { returnBrand(product.attributes) }\r\n      </span>\r\n\r\n      <Tabs\r\n      className=\"product_info_tabs\"\r\n      content={[\r\n        {\r\n          title: \"Описание\",\r\n          content: <div className=\"product_info_tabs_content_description\">{ReactHtmlParser(product.description)}</div>\r\n        },\r\n        {\r\n          title: \"Характеристики\",\r\n          content: composeAttributes(product.attributes)\r\n        },\r\n        {\r\n          title: \"Отзывы\",\r\n          content: composeComments(product.comments)\r\n        }\r\n      ]}\r\n      />\r\n\r\n      <ul className=\"product_info_colors\">\r\n        <span>Цвета:</span>\r\n        { composeColors(product.variations, product.attributes) }\r\n      </ul>\r\n\r\n      <span className=\"product_info_stock\">\r\n        <span>В наличии: </span>\r\n        { product.stock ? product.stock : 0 }шт.\r\n      </span>\r\n\r\n      <div className=\"product_info_buy\">\r\n        <input placeholder=\"1 шт.\" value=\"\"/>\r\n        <button>Купить</button>\r\n      </div>\r\n      <div className=\"product_info_price\">\r\n        <p>{ product.price }Р</p>\r\n        <span>Выше опт — ниже цена</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RelatedProducts(props) {\r\n  return(\r\n    <div className=\"related-products grid-2\">\r\n      {\r\n        props.products.map( product =>\r\n          <ProductItemGrid\r\n            id={product.id}\r\n            title={product.name}\r\n            description={product.short_description}\r\n            stock={product.stock_quantity}\r\n            price={product.price}\r\n            thumb={product.images[0].src}\r\n          />\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component, Fragment, useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Tabs from 'components/ui/tabs.component';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport { VKShareButton, FBShareButton, FavButton } from 'components/ui/share-buttons.component';\r\nimport { ProductItemGrid } from 'components/catalogue/product_item.component';\r\nimport Loading from 'components/ui/loading.component';\r\n\r\nexport default class ProductModal extends Component {\r\n\r\n  componentDidMount() {\r\n    this.fetchProductData();\r\n    console.log('THERE');\r\n    console.log(this.props.location);\r\n  }\r\n\r\n  state = {\r\n    product_id: this.props.match.params.product_id,\r\n    product_data: null,\r\n    currentVariation: 0,\r\n  }\r\n\r\n  fetchProductData = () => {\r\n    let url = `http://localhost/wp-json/product-fetcher/v1/products/${ this.state.product_id }`;\r\n\r\n    fetch( url, {\r\n      'method': 'get',\r\n      'mode': 'cors'\r\n    })\r\n    .then( res => res.json() )\r\n    .then( res => this.setState({ product_data: res }) )\r\n    .catch( err => console.log(err) );\r\n  }\r\n\r\n  changeVariation = (i) => {\r\n    this.setState({ currentVariation: i })\r\n  }\r\n\r\n  render() {\r\n\r\n    const {\r\n      product_data,\r\n      currentVariation\r\n    } = this.state;\r\n    console.log(product_data)\r\n    let path = this.props.location.pathname;\r\n    let subcatLink = path.substring(0, path.lastIndexOf(\"/\"));\r\n    let catLink = subcatLink.substring(0, subcatLink.lastIndexOf(\"/\"));\r\n\r\n    return(\r\n      <div id=\"individual-product-modal-wrapper\">\r\n        <style>\r\n          {\r\n            `body{\r\n              overflow: hidden\r\n            }`\r\n          }\r\n        </style>\r\n        <section id=\"individual-product\">\r\n          <div id=\"individual-product_share\" className=\"individual-product_share\">\r\n            <VKShareButton link={ path }/>\r\n            <FBShareButton link={ path }/>\r\n            <FavButton/>\r\n          </div>\r\n          <Link id=\"individual-product_close\" to={subcatLink}></Link>\r\n          {\r\n            product_data ?\r\n\r\n            <Fragment>\r\n              <div id=\"product-container\" className=\"product\">\r\n                <ProductImages product={ product_data.variations[currentVariation] }/>\r\n                <ProductInfo product={ product_data }/>\r\n              </div>\r\n              <RelatedProducts products={ product_data.related }/>\r\n            </Fragment>\r\n\r\n            :\r\n\r\n            <Loading/>\r\n          }\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction ProductImages( props ) {\r\n\r\n  const { product } = props;\r\n\r\n  const [ currentImage, setCurrentImage] = useState(0);\r\n\r\n  function changeImage(i) {\r\n    setCurrentImage(i);\r\n  }\r\n\r\n  return(\r\n    <div className=\"product_images\">\r\n      <div className=\"product_images_selected-wrapper\">\r\n        <img src={ product.images[currentImage].src } />\r\n      </div>\r\n      <div className=\"product_images_selector\">\r\n        {\r\n          product.images.map(\r\n            (image, i) =>\r\n            <button\r\n             className={ currentImage === i ? 'active-image' : null }\r\n             onClick={ () => changeImage(i) }\r\n            >\r\n              <img src={ image.src }/>\r\n            </button>\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProductInfo(props) {\r\n\r\n  const { product } = props;\r\n\r\n  function composeAttributes( attributes ) {\r\n    return <ul id=\"test\" className=\"product_info_tabs_content_attributes\">\r\n             {\r\n              attributes.map( attribute => {\r\n               if ( attribute.name !== \"бренд\" && attribute.slug !== \"pa_color\" )\r\n               return <li>\r\n                       <span>\r\n                         { attribute.name.charAt(0).toUpperCase() + attribute.name.replace(/-/g, \" \").slice(1) }\r\n                       </span>\r\n                       <hr/>\r\n                       <span>{ attribute.options.map( (option, i) => option + (attribute.options.length > 1 ? '; ' : '') ) }</span>\r\n                     </li>\r\n               }\r\n              )\r\n            }\r\n           </ul>\r\n  }\r\n\r\n  function composeComments( comments ) {\r\n    return <ul className=\"product_info_tabs_content_comments custom-scrollbar\">\r\n             {\r\n               comments > 0 ?\r\n               comments.map( comment =>\r\n                 <li>\r\n                   <img className=\"product-comment_author-avatar\" src={ comment.author_avatar }/>\r\n                   <p className=\"product-comment_author-name\">{ comment.author_name }</p>\r\n                   <p className=\"product-comment_comment-content\">{ comment.comment_content }</p>\r\n                 </li>\r\n               )\r\n               :\r\n               <li>Отзывы о данном товаре отсутствуют.</li>\r\n             }\r\n           </ul>\r\n  }\r\n\r\n  function composeColors( variations, attributes ) {\r\n    return variations.map( variation => {\r\n          let color =\r\n          attributes.find( x => x.slug === 'pa_color' ).options.find( x => x.slug === variation.attributes[0].option ).description;\r\n          return <li style={{backgroundColor: color}}></li>;\r\n      })\r\n  }\r\n\r\n  function returnBrand ( attributes ) {\r\n    let brand = attributes.find( attribute => attribute.name === 'бренд');\r\n    return brand ? brand.options[0] : null;\r\n  }\r\n\r\n  return(\r\n    <div className=\"product_info\">\r\n    {console.log(product)}\r\n      <h2 className=\"product_info_title\">{ product.name }</h2>\r\n      <span className=\"product_info_sku\"><span>Арт: </span>{ product.sku }</span>\r\n      <span className=\"product_info_brand\">\r\n        <span>Бренд: </span>\r\n        { returnBrand(product.attributes) }\r\n      </span>\r\n\r\n      <Tabs\r\n      className=\"product_info_tabs\"\r\n      content={[\r\n        {\r\n          title: \"Описание\",\r\n          content: <div className=\"product_info_tabs_content_description\">{ReactHtmlParser(product.description)}</div>\r\n        },\r\n        {\r\n          title: \"Характеристики\",\r\n          content: composeAttributes(product.attributes)\r\n        },\r\n        {\r\n          title: \"Отзывы\",\r\n          content: composeComments(product.comments)\r\n        }\r\n      ]}\r\n      />\r\n\r\n      <ul className=\"product_info_colors\">\r\n        <span>Цвета:</span>\r\n        { composeColors(product.variations, product.attributes) }\r\n      </ul>\r\n\r\n      <span className=\"product_info_stock\">\r\n        <span>В наличии: </span>\r\n        { product.stock ? product.stock : 0 }шт.\r\n      </span>\r\n\r\n      <div className=\"product_info_buy\">\r\n        <input placeholder=\"1 шт.\" value=\"\"/>\r\n        <button>Купить</button>\r\n      </div>\r\n      <div className=\"product_info_price\">\r\n        <p>{ product.price }Р</p>\r\n        <span>Выше опт — ниже цена</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RelatedProducts(props) {\r\n  return(\r\n    <div className=\"related-products grid-2\">\r\n      {\r\n        props.products.map( product =>\r\n          <ProductItemGrid\r\n            id={product.id}\r\n            title={product.name}\r\n            description={product.short_description}\r\n            stock={product.stock_quantity}\r\n            price={product.price}\r\n            thumb={product.images[0].src}\r\n          />\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport { withRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport './App.scss';\r\n\r\nimport Header from 'components/common/header.component.js';\r\nimport Menu from './components/common/menu.component.js';\r\n\r\nimport HomePage from 'pages/home.js';\r\nimport SearchPage from 'pages/search.js';\r\nimport CategoryPage from 'pages/category.js';\r\nimport ProductPage from 'pages/product.js';\r\nimport ProductModal from 'pages/product_modal.js';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n\r\n    let background = this.props.location.state && this.props.location.state.background;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Header history={ this.props.history }/>\r\n        <Menu history={ this.props.history }/>\r\n\r\n        <Switch location={ background || this.props.location }>\r\n          <Route exact path=\"/\" render={ props => <HomePage {...props}/> }/>\r\n          <Route path=\"/search\" component={ props => <SearchPage {...props}/> }/>\r\n          <Route path=\"/category=:cat_id\" render={ props => <CategoryPage {...props}/> }/>\r\n          <Route path=\"/product=:product_id\" component={ props => <ProductPage {...props}/> }/>\r\n        </Switch>\r\n\r\n        {\r\n          background &&\r\n          <Route path=\"/product=:product_id\" component={ props => <ProductModal {...props}/> }/>\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router> ,document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}